{"version":3,"file":"shadow.dom.js","sources":["shadow/dom.cljs"],"mappings":";;;;;;;;;;AAYA,AAAKA,yCACH,iCAAA,oCAAA,nEAAM,OAASC,wBACb,AAACC;AAEL,AAAA;AAAA;;;sBAAA,tBAAaM;;AAAb,qBAAA,rBACGC,kDAASC;AADZ,AAAA,GAAA,EAAA,EAAA,UAAA,YAAA,EAAA,CAAA,6CAAA,rEACYA,wBAAAA;AADZ,OACYA,0CAAAA;;AADZ,IAAAP,kBAAA,EAAA,UAAA,OAAA,hBACYO,qBAAAA;IADZN,kBAAA,CAAAC,mBAAA,AAAAC,YAAAH;AAAA,AAAA,GAAA,EAAA,CAAAC,mBAAA;AAAA,QAAAA,gDAAAA,uDAAAA,TACYM,mCAAAA;;AADZ,IAAAN,sBAAA,CAAAC,mBAAA;AAAA,AAAA,GAAA,EAAA,CAAAD,uBAAA;AAAA,QAAAA,oDAAAA,2DAAAA,TACYM,uCAAAA;;AADZ,MAAA,AAAAH,2BAAA,mBACYG;;;;;;AADZ,AAGA,AAAA;AAAA;;;wBAAA,xBAAaE;;AAAb,qBAAA,rBACGC,kDAASH;AADZ,AAAA,GAAA,EAAA,EAAA,UAAA,YAAA,EAAA,CAAA,+CAAA,vEACYA,wBAAAA;AADZ,OACYA,4CAAAA;;AADZ,IAAAP,kBAAA,EAAA,UAAA,OAAA,hBACYO,qBAAAA;IADZN,kBAAA,CAAAO,mBAAA,AAAAL,YAAAH;AAAA,AAAA,GAAA,EAAA,CAAAC,mBAAA;AAAA,QAAAA,gDAAAA,uDAAAA,TACYM,mCAAAA;;AADZ,IAAAN,sBAAA,CAAAO,mBAAA;AAAA,AAAA,GAAA,EAAA,CAAAP,uBAAA;AAAA,QAAAA,oDAAAA,2DAAAA,TACYM,uCAAAA;;AADZ,MAAA,AAAAH,2BAAA,qBACYG;;;;;;AADZ,AAGA,kCAAA,lCAAOI,4EAAsBC,KAAKC;AAAlC,AACE,GAAM,CAAGA,MAAI,AAAUD;AAAvB,AACE,YAAAE,kBAAA,KAAA;AAAA,AAAU,OAACC,eAAK,CAAMH,KAAKC,MACf,iBAAAG,WAAsBJ;IAAtBK,WAA2B,OAAA,NAAKJ;AAAhC,AAAA,sIAAAG,SAAAC,sDAAAD,SAAAC,tMAACN,gEAAAA,mFAAAA;;GADb,KAAA;;AADF;;;AAKF,AAAA;;;;;;;;;;;;;;AAAA,AAAA,AAAA,AAAA,kEAAA,lEAASY,6EAEEhB;;AAFX,AAAA,gBAAA,ZAEWA;AAFX,AAEiBK;;;AAFjB,AAAA,AAAA,kEAAA,lEAASW,6EAKAhB,MAAKkB;;AALd,AAAA,gBAAA,ZAKSlB;AALT,AAKiB,QAAMK,YAAKa;;;AAL5B,AAAA,AAAA,kEAAA,lEAASF,6EAMAhB,MAAKkB,EAAEC;;AANhB,AAAA,gBAAA,ZAMSnB;AANT,AAM2B,IAAAoB,mBAAI,CAAMf,YAAKa;AAAf,AAAA,oBAAAE;AAAAA;;AAAkBD;;;;AAN7C,AAAA,AAAA,oEAAA,pEAASH,+EASEhB;;AATX,AAAA,gBAAA,ZASWA;AATX,AASiB,OAAUK;;;AAT3B,AAAA,AAAA,kEAAA,lEAASW,6EAYAhB;;AAZT,AAAA,gBAAA,ZAYSA;AAZT,AAYe,mDAAA,5CAACI,gCAAqBC;;;AAZrC,AAAA,AAAA,uDAAAM,vDAASK;;AAAT,AAAA,AAAA,sEAAA,tEAASA,iFAeGhB;;AAfZ,AAAA,gBAAA,ZAeYA;AAfZ,AAekBK;;;AAflB,AAAA,iCAAA,jCAASW;AAAT,AAAA,0FAAA;;;AAAA,AAAA,uCAAA,vCAASA;;AAAT,AAAA,0CAAA,1CAASA;;AAAT,AAAA,+CAAA,WAAAJ,mBAAAC,qBAAAC,lGAASE;AAAT,AAAA,OAAAD,iBAAAF,qBAAA;;;AAAA;;;6BAAA,7BAASI,kEAAYZ;AAArB,AAAA,YAAAW,sBAAqBX;;;AAAZW,AAkBT,yBAAA,zBAAMK,0DAAahB;AAAnB,AACE,YAAAW,sBAAaX;;AAEf,sBAAA,tBAAMiB,oDAAUC;AAAhB,AAGE,GACE,OAAA,NAAMA;AADR;;AAAA,GAEE,EAAA,EAAA,OAAA,QAAA,EAAA,EAAA,WAAA,CAAAZ,gCAAA,4BAAA,KAAA,OAAA,tGAAsBY,8DAAAA;AAAI,OAAqBA;;AAFjD,GAGE,OAASA;AAAI,OAAiBC,wBAAYD;;AAH5C,GAIE,OAASA;AAAI,OAAiBC,wBAAY,6CAAKD;;AAJjD,AAKQA;;;;;;;AAEV,AAAA,uBAAA,+BAAAE,tDAAME;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,mDAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,mDAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAC,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,qDAAA,rDAAMD,gEACFE;AADJ,AACS,OAAgBL,uBAAYK;;;AADrC,AAAA,qDAAA,rDAAMF,gEAEFE,IAAIC;AAFR,AAEc,OAAgB,AAACR,oBAASQ,oBAAMD;;;AAF9C,AAAA,+CAAA,/CAAMF;;AAAN,AAIA,AAAA,mBAAA,2BAAAF,9CAAMO;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,+CAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,+CAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAJ,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,iDAAA,jDAAMI,4DACFH;AADJ,AACS,YAAAb,sBAAa,AAAmBQ,0BAAYK;;;AADrD,AAAA,iDAAA,jDAAMG,4DAEFH,IAAIC;AAFR,AAEc,YAAAd,sBAAa,AAAmB,AAACM,oBAASQ,uBAAMD;;;AAF9D,AAAA,2CAAA,3CAAMG;;AAAN,AAIA,AAAA,mBAAA,2BAAAP,9CAAMS;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,+CAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,+CAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAN,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,iDAAA,jDAAMM,4DACFC,GAAGZ;AADP,AACW,OAAiB,AAACD,oBAASC,mBAAIY;;;AAD1C,AAAA,iDAAA,jDAAMD,4DAEFC;AAFJ,AAEQ,OAAiBX,wBAAYW;;;AAFrC,AAAA,2CAAA,3CAAMD;;AAAN,AAIA,AAAKE,mBAAMd;AAEX,AAAA,qBAAA,6BAAAG,lDAAMa;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,iDAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,iDAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,iDAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAV,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,mDAAA,nDAAMU,8DACFC;AADJ,AAEG,oBAAI,AAAmBA;AACrB,AACE,AAAkBA;;AAClB,AAAiBA;;AACnB,AACE,iBAAA,jBAAM,AAAgBA;;AACtB,gBAAA,hBAAM,AAAeA;;;AACzBA;;;AATH,AAAA,mDAAA,nDAAMD,8DAUFC,EAAEhB;AAVN,AAWG,AAACiB,iDAAQD;;AACThB;;;AAZH,AAAA,mDAAA,nDAAMe,8DAcFC,EAAEhB,GAAGkB,MAAMC;AAdf,AAeG,AAACF,iDAAQD;;AACThB;;;AAhBH,AAAA,6CAAA,7CAAMe;;AAAN,AAkBA,AAAA;;;6BAAA,qCAAAb,lEAAMmB;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,yDAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,yDAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAhB,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,2DAAA,3DAAMgB,sEAEFrB;AAFJ,AAGG,IAAAsB,WAAcrB;IAAdsB,WAA0B,AAACxB,oBAASC;AAApC,AAAA,yBAAAsB,SAAAC,3BAACC;;;AAHJ,AAAA,2DAAA,3DAAMH,sEAIFI,OAAOzB;AAJX,AAKG,IAAA0B,WAAc,AAAC3B,oBAAS0B;IAAxBE,WAAgC,AAAC5B,oBAASC;AAA1C,AAAA,yBAAA0B,SAAAC,3BAACH;;;AALJ,AAAA,qDAAA,rDAAMH;;AAAN,AAQA,uBAAA,vBAAMO,sDAAW5B,GAAG6B;AAApB,AACE,IAAAC,WAAU,AAAC/B,oBAASC;IAApB+B,WAAwBF;AAAxB,AAAA,8BAAAC,SAAAC,hCAACC;;AAEH,0BAAA,1BAAMC,4DAAcjC,GAAG6B;AAAvB,AACE,IAAAK,WAAa,AAACnC,oBAASC;IAAvBmC,WAA2BN;AAA3B,AAAA,iCAAAK,SAAAC,nCAACC;;AAEH,AAAA,0BAAA,kCAAAlC,5DAAMoC;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,sDAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,sDAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAjC,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,wDAAA,xDAAMiC,mEACFtC,GAAG6B;AADP,AAEG,IAAAU,WAAa,AAACxC,oBAASC;IAAvBwC,WAA2BX;AAA3B,AAAA,iCAAAU,SAAAC,nCAACC;;;AAFJ,AAAA,wDAAA,xDAAMH,mEAGFtC,GAAG6B,IAAIa;AAHX,AAIG,oBAAIA;AACF,OAACd,qBAAU5B,GAAG6B;;AACd,OAACI,wBAAajC,GAAG6B;;;;AANtB,AAAA,kDAAA,lDAAMS;;AAAN,AASA,AAAKK,wBACH,kBAAI,iBAAA9C,mBAAI,EAAK,OAASI;AAAlB,AAAA,GAAAJ;AAAAA;;AACI,OAAoBI;;MAC1B,qCAAqBD,GAAG4C,GAAGC;AAA3B,AACE,sCAAA,/BAAmB7C,oBAAG4C,GAAGC;GAC3B,mCAAmB7C,GAAG4C,GAAGC;AAAzB,AACE,IAAA,AACE,OAAc7C,eAAG,CAAA,iDAAU4C,cAAI,WAAK5B;AAAL,AAAQ,QAAC6B,wCAAAA,8CAAAA,RAAQ7B,0BAAAA,xBAAEhB,0BAAAA;;gBADpD,GAAA,CAAA8C,kBAESC;AAFT,QAAAD,JAEmB9B;AAFnB,AAGI,mBAAA,ZAAMgC,wCAAuChD,GAAGgB;;AAHpD,AAAA,MAAA8B;;;;AAON,AAAKG,+BACH,kBAAI,iBAAApD,mBAAI,EAAK,OAASI;AAAlB,AAAA,GAAAJ;AAAAA;;AACI,OAAuBI;;MAC7B,4CAA4BD,GAAG4C,GAAGC;AAAlC,AACE,yCAAA,lCAAsB7C,uBAAG4C,GAAGC;GAC9B,0CAA0B7C,GAAG4C,GAAGC;AAAhC,AACE,OAAc7C,eAAG,CAAA,iDAAU4C,cAAIC;;AAIrC,sBAAA,tBAAMK,oDAAUC,QAAQP,GAAGQ,SAASP;AAApC,AACE,IAAAQ,aAAA,AAAAC,cAAW,AAACY,+CAAMd,SAASD;IAA3BI,eAAA;IAAAC,eAAA;IAAAC,WAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,WAAAD;AAAA,SAAA,AAAAD,kDAAAE,vDAAQzD;AAAR,AAAA,AACE,IAAM6C,oBAAQ;kBAAK7B;AAAL,AAAQ,QAAC6B,wCAAAA,8CAAAA,RAAQ7B,0BAAAA,xBAAEhB,0BAAAA;;;AAAjC,AACE,IAAAmE,iBAAYnE;IAAZoE,iBAAe,AAACK,eAAK7B;IAArByB,iBAAyBxB;AAAzB,AAAA,2GAAAsB,eAAAC,eAAAC,kDAAAF,eAAAC,eAAAC,xNAAC1B,sDAAAA,oGAAAA;;AAFL;AAAA,eAAAU;eAAAE;eAAAC;eAAA,CAAAC,WAAA;;;;;;;AAAA,IAAAC,qBAAA,AAAAJ,cAAAD;AAAA,AAAA,GAAAK;AAAA,AAAA,IAAAL,iBAAAK;AAAA,AAAA,GAAA,AAAAC,6BAAAN;AAAA,IAAAO,kBAAA,AAAAC,sBAAAR;AAAA,AAAA,eAAA,AAAAS,qBAAAT;eAAAO;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,SAAA,AAAAI,gBAAAX,rBAAQrD;AAAR,AAAA,AACE,IAAM6C,oBAAQ;kBAAK7B;AAAL,AAAQ,QAAC6B,wCAAAA,8CAAAA,RAAQ7B,0BAAAA,xBAAEhB,0BAAAA;;;AAAjC,AACE,IAAAsE,iBAAYtE;IAAZuE,iBAAe,AAACE,eAAK7B;IAArB4B,iBAAyB3B;AAAzB,AAAA,2GAAAyB,eAAAC,eAAAC,kDAAAF,eAAAC,eAAAC,xNAAC7B,sDAAAA,oGAAAA;;AAFL;AAAA,eAAA,AAAAsB,eAAAZ;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;;AAIF,AAAA,gBAAA,wBAAAnD,xCAAMyE;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,4CAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,4CAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAtE,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,8CAAA,9CAAMsE,yDACF3E,GAAG4C,GAAGC;AADV,AAEG,iEAAA,1DAAC+B,4CAAG5E,GAAG4C,GAAGC;;;AAFb,AAAA,8CAAA,9CAAM8B,yDAGF3E,GAAG4C,GAAGC,QAAQgC;AAHlB,AAIG,GAAI,AAACC,wBAAQlC;AACX,OAACM,oBAASlD,GAAG,AAACgE,gBAAMpB,IAAI,AAACmC,iBAAOnC,IAAIC;;AACpC,IAAMA,cAAQ,WAAK7B;AAAL,AAAQ,QAAC6B,wCAAAA,8CAAAA,RAAQ7B,0BAAAA,xBAAEhB,0BAAAA;;AAAjC,AACE,IAAAgF,WAAY,AAACjF,oBAASC;IAAtBiF,WAA0B,AAACR,eAAK7B;IAAhCsC,WAAoCrC;AAApC,AAAA,kHAAAmC,SAAAC,SAAAC,4CAAAF,SAAAC,SAAAC,1LAACvC,sDAAAA,kFAAAA;;;;AAPR,AAAA,wCAAA,xCAAMgC;;AAAN,AAUA,kCAAA,lCAAMQ,4EAAsBnF,GAAG4C,GAAGC;AAAlC,AACE,IAAAuC,WAAmB,AAACrF,oBAASC;IAA7BqF,WAAiC,AAACZ,eAAK7B;IAAvC0C,WAA2CzC;AAA3C,AAAA,gIAAAuC,SAAAC,SAAAC,mDAAAF,SAAAC,SAAAC,/MAACrC,6DAAAA,yFAAAA;;AAEH,iCAAA,jCAAMsC,0EAAqBvF,GAAGwF;AAA9B,AACE,IAAAC,aAAA,AAAAnC,cAAckC;IAAdE,eAAA;IAAAC,eAAA;IAAAC,WAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,WAAAD;AAAA,IAAAE,aAAA,AAAAH,kDAAAE;QAAA,AAAAE,4CAAAD,WAAA,IAAA,/DAASG;QAAT,AAAAF,4CAAAD,WAAA,IAAA,/DAAWnD;AAAX,AAAA,AACE,AAACuD,4CAAGjG,GAAGgG,EAAEtD;;AADX;AAAA,eAAA+C;eAAAC;eAAAC;eAAA,CAAAC,WAAA;;;;;;;AAAA,IAAAlC,qBAAA,AAAAJ,cAAAmC;AAAA,AAAA,GAAA/B;AAAA,AAAA,IAAA+B,iBAAA/B;AAAA,AAAA,GAAA,AAAAC,6BAAA8B;AAAA,IAAA7B,kBAAA,AAAAC,sBAAA4B;AAAA,AAAA,eAAA,AAAA3B,qBAAA2B;eAAA7B;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,IAAAmC,aAAA,AAAA/B,gBAAAyB;QAAA,AAAAK,4CAAAC,WAAA,IAAA,/DAASC;QAAT,AAAAF,4CAAAC,WAAA,IAAA,/DAAWrD;AAAX,AAAA,AACE,AAACuD,4CAAGjG,GAAGgG,EAAEtD;;AADX;AAAA,eAAA,AAAAuB,eAAAwB;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;;AAGF,uBAAA,vBAAMS,sDAAWlG,GAAGmG;AAApB,AACE,IAAMC,MAAI,AAACrG,oBAASC;AAApB,AAIE,IAAAqG,aAAA,AAAA/C,cAAc6C;IAAdG,eAAA;IAAAC,eAAA;IAAAC,WAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,WAAAD;AAAA,IAAAE,aAAA,AAAAH,kDAAAE;QAAA,AAAAV,4CAAAW,WAAA,IAAA,/DAAST;QAAT,AAAAF,4CAAAW,WAAA,IAAA,/DAAW/D;AAAX,AAAA,AACE,IAAAiE,iBAAaP;IAAbQ,iBAAiB,AAACnC,eAAKuB;IAAvBa,iBAA0B,eAAA,bAAI,MAAA,LAAMnE,eAERA;AAF5B,AAAA,oBAAAiE,eAAAC,eAAAC,lDAACI;;AADH;AAAA,eAAAZ;eAAAC;eAAAC;eAAA,CAAAC,WAAA;;;;;;;AAAA,IAAA9C,qBAAA,AAAAJ,cAAA+C;AAAA,AAAA,GAAA3C;AAAA,AAAA,IAAA2C,iBAAA3C;AAAA,AAAA,GAAA,AAAAC,6BAAA0C;AAAA,IAAAzC,kBAAA,AAAAC,sBAAAwC;AAAA,AAAA,eAAA,AAAAvC,qBAAAuC;eAAAzC;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,IAAA8C,aAAA,AAAA1C,gBAAAqC;QAAA,AAAAP,4CAAAY,WAAA,IAAA,/DAASV;QAAT,AAAAF,4CAAAY,WAAA,IAAA,/DAAWhE;AAAX,AAAA,AACE,IAAAoE,iBAAaV;IAAbW,iBAAiB,AAACtC,eAAKuB;IAAvBgB,iBAA0B,eAAA,bAAI,MAAA,LAAMtE,eAERA;AAF5B,AAAA,oBAAAoE,eAAAC,eAAAC,lDAACC;;AADH;AAAA,eAAA,AAAAhD,eAAAoC;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;;AAKJ,4BAAA,5BAAMa,gEAAWlH,GAAGmH,IAAIC;AAAxB,AAEE,IAAAC,iBAAMF;IAANE,qBAAA,EAAA,CAAAA,0BAAAC,uCAAA,nBA4kBwC,AAAAD;AA5kBxC,AAAA,QAAAA;KAAA;AACM,AAAM,AAAMrH,QAAI,6CAAKoH;;;KAD3B;AAES,AAAM,AAAapH,eAAI,6CAAKoH;;;KAFrC;AAGO,AAAM,AAAWpH,aAAIoH;;;KAH5B;AAKe,gBAAA,hBAAepH,8BAAiBoH;;;KAL/C;AAMe,gBAAA,hBAAepH,8BAAiBoH;;;KAN/C;AAOW,gBAAA,hBAAepH,0BAAaoH;;;KAPvC;AAQe,gBAAA,hBAAepH,8BAAiBoH;;;KAR/C;AASU,gBAAA,hBAAepH,yBAAYoH;;;KATrC;AAUa,gBAAA,hBAAepH,4BAAeoH;;;KAV3C;AAWQ,gBAAA,hBAAepH,uBAAUoH;;;KAXjC;AAYW,gBAAA,hBAAepH,0BAAaoH;;;KAZvC;AAaQ,gBAAA,hBAAepH,uBAAUoH;;;KAbjC;AAcU,gBAAA,hBAAepH,yBAAYoH;;;KAdrC;AAeU,gBAAA,hBAAepH,yBAAYoH;;;KAfrC;AAgBS,gBAAA,hBAAepH,wBAAWoH;;;KAhBnC;AAiBM,AAAC7B,+BAAoBvF,GAAGoH;;;KAjB9B;AAkBS,GACE,UAAA,TAAMA;AADR;AAAA,GAIE,OAASA;AACT,gBAAA,hBAAepH,wBAAWoH;;AAL5B,GAOE,AAACG,qBAAKH;AACN,AAAClB,qBAAUlG,GAAGoH;;AARhB,AAWE,AAACH,oBAAYjH,GAAGoH;;;;;;;;AAEzB,IAAMI,WAAG,AAAC/C,eAAK0C;AAAf,AACE,oBAAI,iBAAAtH,mBAAI,gCAAA,hCAAC4H,uBAAgBD;AAArB,AAAA,oBAAA3H;AAAAA;;AACI,uCAAA,hCAAC4H,uBAAgBD;;;AACvB,AAAexH,gBAAGwH,SAAGJ;;AACrB,CAAMpH,GAAGwH,YAAGJ;;;;;AAClBpH;;AAEF,uBAAA,vBAAM0H,sDAAW1H,GAAG2H;AAApB,AACE,OAACC,oBACC,WAAK5H,OAAGmH,IAAIC;AAAZ,AAEE,AAACF,0BAAUlH,OAAGmH,IAAIC;;AAClBpH;GACF,AAACD,oBAASC,IACV2H;;AAEJ,sBAAA,tBAAME,oDAAU7H,GAAGmH,IAAIC;AAAvB,AACE,OAACF,0BAAU,AAACnH,oBAASC,IAAImH,IAAIC;;AAG/B,8BAAA,9BAAMU,oEAAY9H,GAAG6B;AAArB,AACE,IAAAkG,WAAe,AAAChI,oBAASC;IAAzBgI,WAA6BnG;AAA7B,AAAA,mCAAAkG,SAAAC,rCAACC;;AAEH,gCAAA,hCAAOC,wEAAoBC,QAAQC;AAAnC,AACE,GAAI,AAAC9E,cAAI6E;AACP,6DAAA,TAAKA,yDAAYC;;AACjBA;;;AAMJ,uBAAA,vBAAMC,sDAAWC;AAAjB,AACE,IAAMA,WAAK,AAAC7D,eAAK6D;IACXC,OAAK,iBAAA,jBAAUD;IACfE,QAAM,iBAAA,jBAAUF;AAFtB,AAGE,GACE,EAAK,6CAAA,7CAACG,kDAAKF,WAAM,6CAAA,7CAACE,kDAAKD;AADzB,mGAAA,KAAA,dAEGF;;AAFH,GAIE,6CAAA,7CAACG,kDAAKD;AAJR,uHAAA,7BAKG,mBAAA,nBAAYF,uBAAOC,WAEnB,wDAAA,KAAA,7DAACG,uBAAY,AAAYJ,mBAAK,QAAA,PAAKC;;AAPtC,GASE,6CAAA,7CAACE,kDAAKF;AATR,0JAAA,hEAUG,mBAAA,nBAAYD,uBAAOE,OACnB,AAAYF,mBAAK,SAAA,RAAKE;;AAXzB,GAcE,CAAGA,QAAMD;AACT,MAAO,CAAA,wEAAiCD;;AAf1C,AAAA,0FAkBG,mBAAA,nBAAYA,uBAAOE,OACnB,AAAYF,mBAAK,SAAA,RAAKE,aAAOD,MAC7B,wDAAA,KAAA,7DAACG,uBAAY,AAAYJ,mBAAK,QAAA,PAAKC;;;;;;;AAG1C,6BAAA,6CAAAI,1EAAMK,kEAAiBC;AAAvB,AAAA,IAAAL,aAAAD;IAAAC,iBAAA,EAAA,EAAA,EAAA,CAAAA,cAAA,QAAA,EAAA,EAAA,CAAA,AAAAA,iDAAA,WAAA,CAAAxJ,gCAAA,AAAAwJ,+BAAA,KAAA,OAAA,QAAA,AAAAC,8CAAAC,mBAAAF,YAAAA;YAAAA,RAAkDO;aAAlD,AAAAJ,4CAAAH,eAAA,pEAAuCM;AAAvC,AACE,gBAAA,ZAAMG;IAAND,aACoC,AAACf,qBAAUY;eAD/C,AAAAnD,4CAAAsD,WAAA,IAAA,tEACOE;aADP,AAAAxD,4CAAAsD,WAAA,IAAA,pEACgBG;kBADhB,AAAAzD,4CAAAsD,WAAA,IAAA,zEACuBI;AADvB,AAEE,oBAAMD;AAAN,AACE,WAAA,VAAMF,kBAAeE;;AADvB;;AAGA,oBAAMC;AAAN,AACE,WAAA,VAAMH,qBAAkB,AAACnB,8BAAmBgB,OAAMM;;AADpD;;AAGA,IAAAC,WAAM,AAACC,mBAAcJ,SAASD;AAA9B,AACE,qBAAAI,rBAAC/B,8BAAU,qDAAA,rDAACiC,+CAAOR;;AADrBM;;AAKJ,AAAA,oBAAA,4BAAAvJ,hDAAM2J;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,gDAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,gDAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAxJ,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,kDAAA,lDAAMwJ,6DACFC;AADJ,AAEG,oBAAMA;AAAN,AACE,IAAApG,qBAAa,AAAC3D,oBAAS+J;AAAvB,AAAA,oBAAApG;AAAA,AAAA,QAAAA,JAAW/D;AAAX,AACE,AAAc,AAAQM,0BAAaN;;AACnCA;;AAFF;;;AADF;;;;AAFH,AAAA,kDAAA,lDAAMkK,6DAMF7J,GAAG8J;AANP,AAOG,oBAAMA;AAAN,AACE,IAAApG,qBAAa,AAAC3D,oBAAS+J;AAAvB,AAAA,oBAAApG;AAAA,AAAA,QAAAA,JAAW/D;AAAX,AACE,AAAc,AAACI,oBAASC,gBAAIL;;AAC5BA;;AAFF;;;AADF;;;;AAPH,AAAA,4CAAA,5CAAMkK;;AAAN,AAYA,8BAAA,gDAAAE,9EAAMI,oEACHC;AADH,AAAA,IAAAJ,aAAAD;IAAAE,aAAA,AAAA3G,cAAA0G;IAAAE,eAAA,AAAAlG,gBAAAiG;IAAAA,iBAAA,AAAAhG,eAAAgG;SAAAC,LACcG;IADdH,mBAAA,AAAAlG,gBAAAiG;IAAAA,iBAAA,AAAAhG,eAAAgG;SAAAC,LACiBI;SADjBL,LACsBM;WADtBP,PAC6BF;AAD7B,AAEE,GAAU,eAAAxC,dAAU+C;AAApB;AAAA,AACE,MAAO,gDAAA,mBAAA,2CAAA,9GAACG,kKAAkCV;;;AAE5C,GACE,EAAK,OAAA,NAAMQ,iBAAI,OAAA,NAAMC;AADvB,0FAEG,iBAAAE,WAAWJ;IAAXK,WAAA;AAAA,AAAA,0FAAAD,SAAAC,gCAAAD,SAAAC,pIAACN,0CAAAA,6DAAAA;KAFJ;;AAAA,GAGE,AAAC7C,qBAAK+C;AAHR,0FAIG,CAACF,0CAAAA,iDAAAA,TAAUC,6BAAAA,1BAAGC,6BAAAA,KAAIC;;AAJrB,AAAA,0FAMG,iBAAAI,WAAWN;IAAXO,WAAA;AAAA,AAAA,0FAAAD,SAAAC,gCAAAD,SAAAC,pIAACR,0CAAAA,6DAAAA;KAAiB,AAACS,6CAAKN,GAAGD;;;;;AAIhC,2BAAA,3BAAMQ,8DAAeC;AAArB,AACE,IAAAC,aAA2B,AAACb,4BAAiBnB,2BAAgB+B;WAA7D,AAAAjF,4CAAAkF,WAAA,IAAA,lEAAOlB;oBAAP,AAAAhE,4CAAAkF,WAAA,IAAA,3EAAYC;AAAZ,AAEE,IAAAC,mBAAA,AAAA5H,cAAqB2H;IAArBE,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,yBAAA,AAAAD,wDAAAE,7EAAQC;AAAR,AAAA,AACE,IAAMC,iBAAS,AAACxL,oBAASuL;AAAzB,AACE,GAAI,AAACE,qBAAKD;AACR,IAAAE,mBAAA,AAAAnI,cAAc,AAAC4I,4CAAInM,oBAASwL;IAA5BG,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,kBAAA,AAAAD,wDAAAE,tEAAQK;AAAR,AAAA,oBACcA;AADd,AAAA,AAEE,AAACE,gDAAOrC,KAAKmC;;AAFf;AAAA,eAAAR;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,eAAAH;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;;AAAA,IAAAlI,2BAAA,AAAAJ,cAAAmI;AAAA,AAAA,GAAA/H;AAAA,AAAA,IAAA+H,uBAAA/H;AAAA,AAAA,GAAA,AAAAC,6BAAA8H;AAAA,IAAA7H,wBAAA,AAAAC,sBAAA4H;AAAA,AAAA,eAAA,AAAA3H,qBAAA2H;eAAA7H;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,kBAAA,AAAAI,gBAAAyH,9BAAQQ;AAAR,AAAA,oBACcA;AADd,AAAA,AAEE,AAACE,gDAAOrC,KAAKmC;;AAFf;AAAA,eAAA,AAAAhI,eAAAwH;eAAA;eAAA;eAAA;;;;;;;AAAA,eAAA,AAAAxH,eAAAwH;eAAA;eAAA;eAAA;;;;;;;;;AAAA;;;;;AAGA,AACE,AAACU,gDAAOrC,KAAKyB;;;AAPrB;AAAA,eAAAL;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,IAAA3H,2BAAA,AAAAJ,cAAA4H;AAAA,AAAA,GAAAxH;AAAA,AAAA,IAAAwH,uBAAAxH;AAAA,AAAA,GAAA,AAAAC,6BAAAuH;AAAA,IAAAtH,wBAAA,AAAAC,sBAAAqH;AAAA,AAAA,eAAA,AAAApH,qBAAAoH;eAAAtH;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,yBAAA,AAAAI,gBAAAkH,rCAAQI;AAAR,AAAA,AACE,IAAMC,iBAAS,AAACxL,oBAASuL;AAAzB,AACE,GAAI,AAACE,qBAAKD;AACR,IAAAM,mBAAA,AAAAvI,cAAc,AAAC4I,4CAAInM,oBAASwL;IAA5BO,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,kBAAA,AAAAD,wDAAAE,tEAAQC;AAAR,AAAA,oBACcA;AADd,AAAA,AAEE,AAACE,gDAAOrC,KAAKmC;;AAFf;AAAA,eAAAJ;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,eAAAH;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;;AAAA,IAAAtI,+BAAA,AAAAJ,cAAAuI;AAAA,AAAA,GAAAnI;AAAA,AAAA,IAAAmI,uBAAAnI;AAAA,AAAA,GAAA,AAAAC,6BAAAkI;AAAA,IAAAjI,wBAAA,AAAAC,sBAAAgI;AAAA,AAAA,eAAA,AAAA/H,qBAAA+H;eAAAjI;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,kBAAA,AAAAI,gBAAA6H,9BAAQI;AAAR,AAAA,oBACcA;AADd,AAAA,AAEE,AAACE,gDAAOrC,KAAKmC;;AAFf;AAAA,eAAA,AAAAhI,eAAA4H;eAAA;eAAA;eAAA;;;;;;;AAAA,eAAA,AAAA5H,eAAA4H;eAAA;eAAA;eAAA;;;;;;;;;AAAA;;;;;AAGA,AACE,AAACM,gDAAOrC,KAAKyB;;;AAPrB;AAAA,eAAA,AAAAtH,eAAAiH;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;AAQApB;;AAEJ,AAAA,AAAA,AAAA,AAAA,mDAAA1K,nDACEkI;;AADF,AAAA,AAAA,AACEA,kEACA,WAAU7I;AAAV,AAAA,gBAAA,ZAAUA;AAAV,AAAgB,gCAAA,zBAACqM,4GAAerM;;;AAFlC,AAAA,AAAA,AAAA,4DAAAW,5DAIEgN;;AAJF,AAAA,AAAA,AAIEA,2EACA,WAAU3N;AAAV,AAAA,gBAAA,ZAAUA;AAAV,AACE,OAACqM,yBAAcrM;;;AANnB,AAAA,AAAA,AAAA,mDAAAW,nDAQEJ;;AARF,AAAA,AAAA,AAQEA,kEACA,WAAUP;AAAV,AAAA,gBAAA,ZAAUA;AAAV,AACE,OAACyN,4CAAI1N,mBAAQC;;AAEjB,oBAAM;AAAN,AACE,AAAA,AAAA,AAAA,AAAA,6CAAAW,7CACEiN;;AADF,AAAA,AAAA,AACEA,4DACA,WAAU5N;AAAV,AAAA,gBAAA,ZAAUA;AAAV,AAAgBA;;;AAHpB;AAMA,oBAAM;AAAN,AACE,AAAA,AAAA,AAAA,AAAA,kDAAAW,lDACEkN;;AADF,AAAA,AAAA,AACEA,iEACA,WAAU7N;AAAV,AAAA,gBAAA,ZAAUA;AAAV,AAAgBA;;;AAHpB;AAMA;;;mBAAA,nBAAM8N,8CAEHzC;AAFH,AAGE,IAAA0C,WAAoB,AAACzM,oBAAS+J;AAA9B,AAAA,+BAAA0C,xBAACC;;AAEH,oBAAA,pBAAMC,gDAAQ5C;AAAd,AACE,GAAI,EAAA,EAAA,SAAA,QAAA,EAAA,EAAA,CAAA,2CAAA,gBAAA,CAAA1K,gCAAA,6BAAA,KAAA,OAAA,1JAAsB0K,qBAAAA,4FAAAA;AACxB,IAAA6C,aAAA,AAAArJ,cAAUwG;IAAV8C,eAAA;IAAAC,eAAA;IAAAC,WAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,WAAAD;AAAA,QAAA,AAAAD,kDAAAE,tDAAQnN;AAAR,AAAA,AAAgB,CAAC+M,kDAAAA,qDAAAA,LAAO/M,iCAAAA;;AAAxB;AAAA,eAAAgN;eAAAC;eAAAC;eAAA,CAAAC,WAAA;;;;;;;AAAA,IAAApJ,qBAAA,AAAAJ,cAAAqJ;AAAA,AAAA,GAAAjJ;AAAA,AAAA,IAAAiJ,iBAAAjJ;AAAA,AAAA,GAAA,AAAAC,6BAAAgJ;AAAA,IAAA/I,kBAAA,AAAAC,sBAAA8I;AAAA,AAAA,eAAA,AAAA7I,qBAAA6I;eAAA/I;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,QAAA,AAAAI,gBAAA2I,pBAAQhN;AAAR,AAAA,AAAgB,CAAC+M,kDAAAA,qDAAAA,LAAO/M,iCAAAA;;AAAxB;AAAA,eAAA,AAAAsE,eAAA0I;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;;AACA,OAACI,oBAAejD;;;AAEpB,0BAAA,1BAAMkD,4DAAcC,IAAIC;AAAxB,AAEE,IAAAC,WAAiB,AAACpN,oBAASmN;IAA3BE,WAAgC,AAACrN,oBAASkN;AAA1C,AAAA,4BAAAE,SAAAC,9BAACC;;AAEH,AAAA,kBAAA,0BAAAnN,5CAAMqN;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,8CAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,8CAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAlN,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,gDAAA,hDAAMkN,2DACFvN,GAAGwN;AADP,AACiB,OAAM,AAAa,AAACzN,oBAASC,gBAAKwN;;;AADnD,AAAA,gDAAA,hDAAMD,2DAEFvN;AAFJ,AAEQ,OAAa,AAACD,oBAASC;;;AAF/B,AAAA,0CAAA,1CAAMuN;;AAAN,AAIA,AAAA,mBAAA,2BAAArN,9CAAMwN;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,+CAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,+CAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAArN,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,iDAAA,jDAAMqN,4DACF1N;AADJ,AACQ,yDAAA,lDAAC2N,+CAAM3N;;;AADf,AAAA,iDAAA,jDAAM0N,4DAEF1N,GAAG4N;AAFP,AAGG,OAAM,AAAW,AAAC7N,oBAASC,cAAK4N;;;AAHnC,AAAA,2CAAA,3CAAMF;;AAAN,AAMA,4BAAA,5BAAMG,gEAAU7N;AAAhB,AAAoB,OAAW,AAACD,oBAASC;;AAEzC,2BAAA,3BAAM8N,8DAAe9N;AAArB,AACE,YAAAP,sBAAa,AAAY,AAACM,oBAASC;;AAErC,sBAAA,tBAAM+N,oDAAU/N;AAAhB,AACE,YAAAP,sBAAa,AAAY,AAACM,oBAASC;;AAErC,yBAAA,zBAAMgO,0DAAahO;AAAnB,AACE,YAAAP,sBAAa,AAAc,AAACM,oBAASC;;AAEvC,AAAA,kBAAA,0BAAAE,5CAAMgO;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,8CAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,8CAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAA7N,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,gDAAA,hDAAM6N,2DACFlO,GAAGmH;AADP,AACY,OAAe,AAACpH,oBAASC,iBAAI,AAACyE,eAAK0C;;;AAD/C,AAAA,gDAAA,hDAAM+G,2DAEFlO,GAAGmH,IAAIgH;AAFX,AAEoB,IAAAtO,mBAAI,AAAe,AAACE,oBAASC,iBAAI,AAACyE,eAAK0C;AAAvC,AAAA,oBAAAtH;AAAAA;;AAA6CsO;;;;AAFjE,AAAA,0CAAA,1CAAMD;;AAAN,AAIA,sBAAA,tBAAME,oDAAUpO,GAAGmH;AAAnB,AACE,OAAkB,AAACpH,oBAASC,oBAAI,AAACyE,eAAK0C;;AAExC,kBAAA,lBAAMkH,4CAAMrO,GAAGmH;AAAf,AACE,OAAe,AAACpH,oBAASC,iBAAI,CAAA,oDAAa,AAACyE,eAAK0C;;AAElD,sBAAA,tBAAMmH,oDAAUtO,GAAGmH,IAAIC;AAAvB,AACE,OAAe,AAACrH,oBAASC,iBAAI,CAAA,oDAAa,AAACyE,eAAK0C,gBAAM,6CAAKC;;AAE7D,sBAAA,tBAAMmH,oDAAUzE,KAAK0E;AAArB,AACE,OAAM,AAAa,AAACzO,oBAAS+J,kBAAO0E;;AAEtC,sBAAA,tBAAMC,oDAAU3E;AAAhB,AACE,OAAa,AAAC/J,oBAAS+J;;AAEzB,AAAA,sBAAA,8BAAA5J,pDAAM6O;AAAN,AAAA,IAAAL,qBAAA;AAAA,AAAA,IAAAC,0BAAA,AAAA;AAAA,AAAA,IAAAC,wBAAA;;AAAA,AAAA,GAAA,CAAAA,wBAAAD;AAAA,AAAA,AAAAD,wBAAA,CAAA,UAAAE;;AAAA,eAAA,CAAAA,wBAAA;;;;AAAA;;;;AAAA,IAAAC,uBAAA,EAAA,CAAA,MAAA,AAAAH,4BAAA,AAAA,KAAAI,qBAAA,AAAAJ,yBAAA,KAAA,IAAA,OAAA;AAAA,AAAA,OAAAK,yDAAAF;;;AAAA,AAAA,AAAA,AAAAE,2DAAA,WAAkBG;AAAlB,AACE,IAAMC,WAAS,AAAyBlP;AAAxC,AACE,IAAAmP,mBAAA,AAAA9L,cAAa4L;IAAbG,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,iBAAA,AAAAD,wDAAAE,rEAAQzF;AAAR,AAAA,AACE,AAAcqF,qBAAS,AAAC3Q,mBAAQsL;;AADlC;AAAA,eAAAsF;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,IAAA7L,2BAAA,AAAAJ,cAAA8L;AAAA,AAAA,GAAA1L;AAAA,AAAA,IAAA0L,uBAAA1L;AAAA,AAAA,GAAA,AAAAC,6BAAAyL;AAAA,IAAAxL,wBAAA,AAAAC,sBAAAuL;AAAA,AAAA,eAAA,AAAAtL,qBAAAsL;eAAAxL;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,iBAAA,AAAAI,gBAAAoL,7BAAQtF;AAAR,AAAA,AACE,AAAcqF,qBAAS,AAAC3Q,mBAAQsL;;AADlC;AAAA,eAAA,AAAA7F,eAAAmL;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;AAEA,YAAA3P,sBAAa0P;;;AAJjB,AAAA,AAAAJ,8CAAA;;AAAA;AAAA,AAAA,AAAAA,wCAAA,WAAAC;AAAA,AAAA,IAAAC,qBAAA;AAAA,AAAA,OAAAA,wDAAA,AAAA3L,cAAA0L;;;AAAA,AAQA;;;;0BAAA,1BAAMQ,4DAGHC;AAHH,AAIE,IAAMC,UAAQ,iBAAA,jBAACC,iDAAuCF;AAAtD,AAEE,IAAAG,mBAAA,AAAAtM,cAAiCoM;IAAjCG,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,IAAAE,mBAAA,AAAAH,wDAAAE;uBAAA,AAAAjK,4CAAAkK,iBAAA,IAAA,pFAASE;wBAAT,AAAApK,4CAAAkK,iBAAA,IAAA,rFAAoBG;AAApB,AAAA,AACE,AAACC,KAAQD;;AADX;AAAA,eAAAP;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,IAAArM,2BAAA,AAAAJ,cAAAsM;AAAA,AAAA,GAAAlM;AAAA,AAAA,IAAAkM,uBAAAlM;AAAA,AAAA,GAAA,AAAAC,6BAAAiM;AAAA,IAAAhM,wBAAA,AAAAC,sBAAA+L;AAAA,AAAA,eAAA,AAAA9L,qBAAA8L;eAAAhM;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,IAAAqM,mBAAA,AAAAjM,gBAAA4L;uBAAA,AAAA9J,4CAAAmK,iBAAA,IAAA,pFAASC;wBAAT,AAAApK,4CAAAmK,iBAAA,IAAA,rFAAoBE;AAApB,AAAA,AACE,AAACC,KAAQD;;AADX;AAAA,eAAA,AAAAlM,eAAA2L;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;AAGA,OAACS,+CAAO;wBAAAC,NAAKb;AAAL,AAAA,IAAAc,aAAAD;iBAAA,AAAAxK,4CAAAyK,WAAA,IAAA,xEAAQL;kBAAR,AAAApK,4CAAAyK,WAAA,IAAA,zEAAmBJ;AAAnB,AACE,+CAAA,xCAACzH,uBAAY+G,MAAES;;CACvBT,EACAC;;AAGN,8BAAA,9BAAMc,oEAAef;AAArB,AACE,IAAMzP,KAAG,uBAAA,vBAACyQ;AAAV,AACE,AAAM,AAAazQ,eAAIyP;;AACvB,YAAAhQ,sBAAa,AAACiR,yBAAoBzQ,SAAYD;;AAElD,uBAAA,vBAAM2Q,sDAAW3Q;AAAjB,AACE,OAAY,AAACD,oBAASC;;AAExB,+BAAA,/BAAM4Q,sEAAmB5Q,GAAG6B;AAA5B,AACE,IAAAgP,WAAwB,AAAC9Q,oBAASC;IAAlC8Q,WAAsCjP;AAAtC,AAAA,mCAAAgP,SAAAC,rCAACC;;AAEH,AAAA,6BAAA,qCAAA7Q,lEAAM+Q;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,yDAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,yDAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAA5Q,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,2DAAA,3DAAM4Q,sEACFjR,GAAGkR;AADP,AACY,IAAAC,WAAkC,AAACpR,oBAASC;IAA5CoR,WAAgD,AAAC3M,eAAKyM;AAAtD,AAAA,6CAAAC,SAAAC,/CAACC;;;AADb,AAAA,2DAAA,3DAAMJ,sEAEFjR,GAAGkR,IAAIrP;AAFX,AAEgB,IAAAyP,WAAkC,AAACvR,oBAASC;IAA5CuR,WAAgD,AAAC9M,eAAKyM;IAAtDM,WAA2D,AAAC/M,eAAK5C;AAAjE,AAAA,6CAAAyP,SAAAC,SAAAC,xDAACH;;;AAFjB,AAAA,qDAAA,rDAAMJ;;AAAN,AAIA,uBAAA,vBAAMQ,sDAAWrL;AAAjB,AACE,IAAAsL,WAAa,AAAC3R,oBAASqG;AAAvB,AAAA,+BAAAsL,xBAACC;;AAEH,uBAAA,vBAAMC,sDAAWxL,IAAIgB;AAArB,AACE,IAAAyK,WAAa,AAAC9R,oBAASqG;IAAvB0L,WAA4B1K;AAA5B,AAAA,+BAAAyK,SAAAC,jCAACC;;AAEH,gBAAA,hBAAMC,wCAAI5K;AAAV,AACE,mEAAA,fAAK,SAAA,RAAKA;;AAEZ,iBAAA,jBAAM6K,0CAAK7K;AAAX,AACE,2DAAA,PAAKA;;AAEP,gCAAA,hCAAM8K,wEAAelS,GAAGmS;AAAxB,AACE,OAAiB,AAASnS,wBAAI,AAACyE,eAAK0N;;AAEtC,0BAAA,1BAAMC,4DAAcpS,GAAGmS;AAAvB,AACE,IAAMnS,SAAG,AAACD,oBAASC;AAAnB,AACE,OAACkS,8BAAclS,OAAGmS;;AAEtB,2BAAA,3BAAME,8DAAerS,GAAGsS;AAAxB,AACE,IAAMtS,SAAG,AAACD,oBAASC;AAAnB,AACE,IAAAuS,aAAA,AAAAjP,cAAWgP;IAAXE,eAAA;IAAAC,eAAA;IAAAC,WAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,WAAAD;AAAA,SAAA,AAAAD,kDAAAE,vDAAQC;AAAR,AAAA,AACE,AAACT,8BAAclS,OAAG2S;;AADpB;AAAA,eAAAJ;eAAAC;eAAAC;eAAA,CAAAC,WAAA;;;;;;;AAAA,IAAAhP,qBAAA,AAAAJ,cAAAiP;AAAA,AAAA,GAAA7O;AAAA,AAAA,IAAA6O,iBAAA7O;AAAA,AAAA,GAAA,AAAAC,6BAAA4O;AAAA,IAAA3O,kBAAA,AAAAC,sBAAA0O;AAAA,AAAA,eAAA,AAAAzO,qBAAAyO;eAAA3O;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,SAAA,AAAAI,gBAAAuO,rBAAQI;AAAR,AAAA,AACE,AAACT,8BAAclS,OAAG2S;;AADpB;AAAA,eAAA,AAAA1O,eAAAsO;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;;AAIJ,AAAA,AAAA,AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,AAAA,AAAA,AAAA,oEAAA,WAAAK,oBAAAC,nGAAWyD;;AAAX,AAAA,IAAA1D,0BAAA;AAAA,AAAA,OAAAE,gDAAAF,wBAAAC,iBAAA;;;AAAA,AAAA,AAAA,oEAAA,WAAAE,oBAAAC,OAAAC,1GAAWqD;;AAAX,AAAA,IAAAvD,0BAAA;AAAA,AAAA,IAAAG,WAAAF;IAAAE,eAAA,EAAA,CAAAA,oBAAA5L,iCAAA,bA+S0C,AAAA4L;AA/S1C,AAAA,QAAAA;KAAA;AAAAC;;;KAAA;AAAAC;;;;AAAA,OAAAC,4CAAAC,gBAAAN,OAAAC;;;;;AAAA,AAAA,AAAA,gFAAA,WAAAM,oBAAAC,sBAAAC,rIAAW6C;;AAAX,AAAA,IAAA/C,0BAAA;AAAA,AAAA,IAAAG,yBAAA;kBAAAC;AAAA,AAAA,OAAAC,+BAAAJ,sBAAAK,oBAAA,GAAA,IAAA,GAAAJ,oBAAAE;;;AAAA,AAAA,OAAAC,+BAAAJ,sBAAAE,uBAAA,0BAAA,KAAA,IAAAD,oBAAA,AAAAK,+CAAA,mFAAA,KAAA1H,2BAAA,KAAA,EAAA,IAAA,AAAAA,sCAAA,CAAA,+CAAA+G,UAAA,OAAA,KAAA/G,2BAAA,KAAA,EAAA,IAAA,AAAAA,sCAAA,CAAA,gDAAAgH,UAAA,eAAAE;;;AAAA,AAAA,AAAA,wEAAA,WAAAS,nFAAWuC;;AAAX,AAAA,IAAAvC,eAAA;AAAA,AAAA,YAAAC,qBAAA,IAAAD,aAAA,EAAA,mFAAA,+CAAA,wDAAA,kBAAAT,iBAAA,AAAAW,oBAAAX,iBAAA,AAAAY;;;AAAA,AAAA,AAAA,gEAAA,WAAAC,3EAAWmC;;AAAX,AAAA,IAAAnC,0BAAA;AAAA,AAAAC;;;AAAA,AAAA,AAAA,sEAAA,WAAAC,jFAAWiC;;AAAX,AAAA,IAAAjC,0BAAA;AAAA,AAAA,kCAAAlB,SAAAC,SAAAgB,cAAAd,gBAAAgB,tEAAWgC;;;AAAX,AAAA,AAAA,oEAAA,WAAA/B,/EAAW+B;;AAAX,AAAA,IAAA/B,0BAAA;AAAA,AAAA,QAAA,IAAA,AAAAxQ,gBAAAuP;;;AAAA,AAAA,AAAA,gEAAA,WAAAkB,3EAAW8B;;AAAX,AAAA,IAAA9B,0BAAA;AAAA,AAAA,IAAAC,kBAAAH;AAAA,AAAA,GAAA,EAAA,CAAAG,mBAAA;AAAAA;;AAAA,IAAAA,sBAAA,iBAAAC,eAAA;kBAAAC;AAAA,AAAA,QAAA,YAAA,AAAAC,8BAAAD;;;AAAA,AAAA,OAAAD,aAAAF;;AAAA,AAAA,AAAAF,gBAAAG;;AAAAA;;;;AAAA,AAAA,AAAA,kEAAA,WAAAI,UAAAC,vFAAWwB;;AAAX,AAAA,IAAAzB,gBAAA;AAAA,AAAA,SAAA,EAAA,CAAAC,cAAA,YAAA,CAAA,AAAAD,8BAAA,AAAAC,6BAAA,AAAArM,6CAAA,AAAAoM,gBAAA,AAAAC,mBAAA,AAAArM,6CAAA,AAAAoM,gBAAA,AAAAC,mBAAA,AAAArM,6CAAA,AAAAoM,uBAAA,AAAAC;;;AAAA,AAAA,AAAA,iEAAA,WAAAC,oBAAAC,hGAAWsB;;AAAX,AAAA,IAAAvB,0BAAA;AAAA,AAAA,GAAA,AAAAE,0BAAA,iFAAA,qDAAA,mEAAAD;AAAA,OAAArL,+CAAA,AAAAuL,qBAAA,AAAAC,6CAAA,mCAAAJ,yBAAAX,eAAAY;;AAAA,kCAAA7B,SAAAC,SAAAgB,cAAA,AAAAgB,oBAAA,AAAAzL,+CAAA2J,gBAAA0B,mBAAA,5JAAWsB;;;;AAAX,AAAA,AAAA,wEAAA,WAAAjB,oBAAAC,iBAAAvB,xHAAWuC;;AAAX,AAAA,IAAAjB,0BAAA;AAAA,AAAA,IAAAE,cAAAC;IAAAC,cAAAH;AAAA,AAAA,oBAAA,iBAAAI,WAAA;IAAAC,WAAAF;AAAA,AAAA,QAAAF,4CAAAA,0CAAAG,SAAAC,YAAAJ,sBAAAG,SAAAC;;AAAA,kCAAA5B,SAAAX,SAAAgB,cAAAd,gBAAA,tEAAWgD;;AAAX,oBAAA,iBAAAV,WAAA;IAAAC,WAAAJ;AAAA,AAAA,QAAAF,4CAAAA,0CAAAK,SAAAC,YAAAN,sBAAAK,SAAAC;;AAAA,kCAAA1C,SAAAY,SAAAK,cAAAd,gBAAA,tEAAWgD;;AAAX,kCAAAnD,SAAAC,SAAAgB,cAAA,AAAA0B,8CAAAxC,gBAAAgC,iBAAAvB,UAAA,/IAAWuC;;;;;AAAX,AAAA,AAAA,kEAAA,WAAAP,7EAAWO;;AAAX,AAAA,IAAAP,0BAAA;AAAA,AAAA,OAAAzS,cAAA,AAAAwQ,+CAAA,mFAAA,KAAA1H,2BAAA,KAAA,EAAA,IAAA,AAAAA,sCAAA,CAAA,+CAAA+G,UAAA,OAAA,KAAA/G,2BAAA,KAAA,EAAA,IAAA,AAAAA,sCAAA,CAAA,gDAAAgH,UAAA,eAAAE;;;AAAA,AAAA,AAAA,yEAAA,WAAA0C,oBAAAjC,xGAAWuC;;AAAX,AAAA,IAAAN,0BAAA;AAAA,AAAA,kCAAA7C,SAAAC,SAAAW,SAAAT,gBAAAgB,jEAAWgC;;;AAAX,AAAA,AAAA,sEAAA,WAAAL,oBAAAC,rGAAWI;;AAAX,AAAA,IAAAL,0BAAA;AAAA,AAAA,GAAA,AAAAnR,wBAAAoR;AAAA,OAAAC,iBAAAF,wBAAA,AAAAG,6CAAAF,qBAAA,KAAA,AAAAE,6CAAAF,qBAAA;;AAAA,OAAA7F,+CAAAgG,gBAAAJ,wBAAAC;;;;AAAA,AAAA,AAAAI,iCAAA;AAAA,AAAA,0FAAA,mDAAA;;;AAAA,AAAA,AAAAA,uCAAA;;AAAA,AAAA,AAAAA,4CAAA,WAAAC;AAAA,AAAA,YAAAC,eAAA,KAAA,wBAAA,KAAA,IAAA;;;AAAA,AAAA,AAAAF,+CAAA,WAAAC,mBAAAE;AAAA,AAAA,OAAAjX,iBAAAiX,qBAAA;;;AAAA;;;6BAAA,7BAAWG,kEAAYzD,EAAEC;AAAzB,AAAA,YAAAkD,0BAAA,KAAA,KAAA,dAAuBnD,EAAEC;;;AAAzB;;;gCAAA,wCAAAsD,xEAAWG;AAAX,AAAA,YAAAP,sBAAA,AAAA,6EAAAI,UAAA,AAAA,8EAAAA,UAAA,KAAA,AAAAtB,oBAAA,AAAAuB,sDAAAD,SAAA,iGAAA,uDAAA;;;AAAAJ,AAEA,0BAAA,1BAAMQ,4DAAc9W;AAApB,AACE,IAAM+W,MAAI,iBAAAC,WAAgB,AAACjX,oBAASC;AAA1B,AAAA,8BAAAgX,vBAACC;;AAAX,AACE,OAACL,2BAAa,AAAKG,MAAK,AAAKA;;AAEjC,iCAAA,jCAAMG,0EAAqBlX;AAA3B,AACE,IAAM+W,MAAI,iBAAAI,WAAsB,AAACpX,oBAASC;AAAhC,AAAA,oCAAAmX,7BAACC;;AAAX,AACE,OAACR,2BAAa,AAAKG,MAAK,AAAKA;;AAEjC,6BAAA,7BAAMM,kEAAiBrX;AAAvB,AACE,IAAM+W,MAAI,iBAAAO,WAAkB,AAACvX,oBAASC;AAA5B,AAAA,gCAAAsX,zBAACC;;AAAX,AACE,OAACX,2BAAa,AAAKG,MAAK,AAAKA;;AAEjC,AAAA,AAAA,AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,AAAA,AAAA,AAAA,8DAAA,WAAAnE,oBAAAC,7FAAWyF;;AAAX,AAAA,IAAA1F,0BAAA;AAAA,AAAA,OAAAE,gDAAAF,wBAAAC,iBAAA;;;AAAA,AAAA,AAAA,8DAAA,WAAAE,oBAAAyE,OAAAvE,pGAAWqF;;AAAX,AAAA,IAAAvF,0BAAA;AAAA,AAAA,IAAA0E,WAAAD;IAAAC,eAAA,EAAA,CAAAA,oBAAAnQ,iCAAA,bAiS0C,AAAAmQ;AAjS1C,AAAA,QAAAA;KAAA;AAAAC;;;KAAA;AAAAC;;;;AAAA,OAAAtE,4CAAAC,gBAAAkE,OAAAvE;;;;;AAAA,AAAA,AAAA,0EAAA,WAAAM,oBAAAC,sBAAAC,/HAAW6E;;AAAX,AAAA,IAAA/E,0BAAA;AAAA,AAAA,IAAAG,yBAAA;kBAAAC;AAAA,AAAA,OAAAC,+BAAAJ,sBAAAK,oBAAA,GAAA,IAAA,GAAAJ,oBAAAE;;;AAAA,AAAA,OAAAC,+BAAAJ,sBAAAE,uBAAA,oBAAA,KAAA,IAAAD,oBAAA,AAAAK,+CAAA,mFAAA,KAAA1H,2BAAA,KAAA,EAAA,IAAA,AAAAA,sCAAA,CAAA,8CAAAsL,UAAA,OAAA,KAAAtL,2BAAA,KAAA,EAAA,IAAA,AAAAA,sCAAA,CAAA,+CAAAuL,UAAA,eAAArE;;;AAAA,AAAA,AAAA,kEAAA,WAAAsE,7EAAWU;;AAAX,AAAA,IAAAV,eAAA;AAAA,AAAA,YAAA5D,qBAAA,IAAA4D,aAAA,EAAA,mFAAA,8CAAA,uDAAA,kBAAAtE,iBAAA,AAAAW,oBAAAX,iBAAA,AAAAY;;;AAAA,AAAA,AAAA,0DAAA,WAAAC,rEAAWmE;;AAAX,AAAA,IAAAnE,0BAAA;AAAA,AAAAC;;;AAAA,AAAA,AAAA,gEAAA,WAAAC,3EAAWiE;;AAAX,AAAA,IAAAjE,0BAAA;AAAA,AAAA,4BAAAqD,SAAAC,SAAAvD,cAAAd,gBAAAgB,hEAAWgE;;;AAAX,AAAA,AAAA,8DAAA,WAAA/D,zEAAW+D;;AAAX,AAAA,IAAA/D,0BAAA;AAAA,AAAA,QAAA,IAAA,AAAAxQ,gBAAAuP;;;AAAA,AAAA,AAAA,0DAAA,WAAAkB,rEAAW8D;;AAAX,AAAA,IAAA9D,0BAAA;AAAA,AAAA,IAAAC,kBAAAH;AAAA,AAAA,GAAA,EAAA,CAAAG,mBAAA;AAAAA;;AAAA,IAAAA,sBAAA,iBAAAoD,eAAA;kBAAAlD;AAAA,AAAA,QAAA,cAAA,AAAAC,8BAAAD;;;AAAA,AAAA,OAAAkD,aAAArD;;AAAA,AAAA,AAAAF,gBAAAG;;AAAAA;;;;AAAA,AAAA,AAAA,4DAAA,WAAAqD,UAAAC,jFAAWO;;AAAX,AAAA,IAAAR,gBAAA;AAAA,AAAA,SAAA,EAAA,CAAAC,cAAA,YAAA,CAAA,AAAAD,8BAAA,AAAAC,6BAAA,AAAAtP,6CAAA,AAAAqP,gBAAA,AAAAC,mBAAA,AAAAtP,6CAAA,AAAAqP,gBAAA,AAAAC,mBAAA,AAAAtP,6CAAA,AAAAqP,uBAAA,AAAAC;;;AAAA,AAAA,AAAA,2DAAA,WAAAhD,oBAAAC,1FAAWsD;;AAAX,AAAA,IAAAvD,0BAAA;AAAA,AAAA,GAAA,AAAAE,0BAAA,iFAAA,mDAAA,mEAAAD;AAAA,OAAArL,+CAAA,AAAAuL,qBAAA,AAAAC,6CAAA,mCAAAJ,yBAAAX,eAAAY;;AAAA,4BAAA0C,SAAAC,SAAAvD,cAAA,AAAAgB,oBAAA,AAAAzL,+CAAA2J,gBAAA0B,mBAAA,tJAAWsD;;;;AAAX,AAAA,AAAA,kEAAA,WAAAjD,oBAAAC,iBAAAsC,lHAAWU;;AAAX,AAAA,IAAAjD,0BAAA;AAAA,AAAA,IAAA2C,cAAAxC;IAAAyC,cAAA3C;AAAA,AAAA,oBAAA,iBAAA4C,WAAA;IAAAC,WAAAF;AAAA,AAAA,QAAAD,4CAAAA,0CAAAE,SAAAC,YAAAH,sBAAAE,SAAAC;;AAAA,4BAAAP,SAAAD,SAAAvD,cAAAd,gBAAA,hEAAWgF;;AAAX,oBAAA,iBAAAF,WAAA;IAAAC,WAAAJ;AAAA,AAAA,QAAAD,4CAAAA,0CAAAI,SAAAC,YAAAL,sBAAAI,SAAAC;;AAAA,4BAAAX,SAAAE,SAAAxD,cAAAd,gBAAA,hEAAWgF;;AAAX,4BAAAZ,SAAAC,SAAAvD,cAAA,AAAA0B,8CAAAxC,gBAAAgC,iBAAAsC,UAAA,zIAAWU;;;;;AAAX,AAAA,AAAA,4DAAA,WAAAvC,vEAAWuC;;AAAX,AAAA,IAAAvC,0BAAA;AAAA,AAAA,OAAAzS,cAAA,AAAAwQ,+CAAA,mFAAA,KAAA1H,2BAAA,KAAA,EAAA,IAAA,AAAAA,sCAAA,CAAA,8CAAAsL,UAAA,OAAA,KAAAtL,2BAAA,KAAA,EAAA,IAAA,AAAAA,sCAAA,CAAA,+CAAAuL,UAAA,eAAArE;;;AAAA,AAAA,AAAA,mEAAA,WAAA0C,oBAAA4B,lGAAWU;;AAAX,AAAA,IAAAtC,0BAAA;AAAA,AAAA,4BAAA0B,SAAAC,SAAAC,SAAAtE,gBAAAgB,3DAAWgE;;;AAAX,AAAA,AAAA,gEAAA,WAAArC,oBAAAC,/FAAWoC;;AAAX,AAAA,IAAArC,0BAAA;AAAA,AAAA,GAAA,AAAAnR,wBAAAoR;AAAA,OAAAC,iBAAAF,wBAAA,AAAAG,6CAAAF,qBAAA,KAAA,AAAAE,6CAAAF,qBAAA;;AAAA,OAAA7F,+CAAAgG,gBAAAJ,wBAAAC;;;;AAAA,AAAA,AAAAoC,2BAAA;AAAA,AAAA,0FAAA,mDAAA;;;AAAA,AAAA,AAAAA,iCAAA;;AAAA,AAAA,AAAAA,sCAAA,WAAA/B;AAAA,AAAA,YAAAC,eAAA,KAAA,kBAAA,KAAA,IAAA;;;AAAA,AAAA,AAAA8B,yCAAA,WAAA/B,mBAAAE;AAAA,AAAA,OAAAjX,iBAAAiX,qBAAA;;;AAAA;;;uBAAA,vBAAW+B,sDAAMd,EAAEC;AAAnB,AAAA,YAAAW,oBAAA,KAAA,KAAA,dAAiBZ,EAAEC;;;AAAnB;;;0BAAA,kCAAAY,5DAAWE;AAAX,AAAA,YAAAH,gBAAA,AAAA,4EAAAC,UAAA,AAAA,6EAAAA,UAAA,KAAA,AAAAnD,oBAAA,AAAAuB,sDAAA4B,SAAA,gGAAA,sDAAA;;;AAAAD,AAEA,0BAAA,1BAAMI,4DAAWC;AAAjB,AACE,YAAAL,uCAAA,KAAA,KAAA,jCAAO,AAASK,WAAM,AAAUA;;AAElC,sBAAA,tBAAMC,oDAAU5Y;AAAhB,AACE,OAAC0Y,wBAAU,iBAAAG,WAAY,AAAC9Y,oBAASC;AAAtB,AAAA,0BAAA6Y,nBAACC;;;AAEd,wBAAA,xBAAMC,wDAAY/Y;AAAlB,AACE,OAAA,6EAAA,oBAAIA,pBAAG4Y;;AAET,+BAAA,/BAAMI;AAAN,AACE,OAACN,wBAAU,AAACO;;AAEd,yBAAA,zBAAMC,0DAAalZ;AAAnB,AACE,yCAAA,jCAAM,AAAY,AAACD,oBAASC;;AAE9B,kCAAA,lCAAMmZ,4EAAsBnZ;AAA5B,AACE,IAAMoZ,UAAO,AAACrZ,oBAASC;IACjBqZ,OAAK,SAAA,RAAMD;AADjB,AAEE,IAAAE,kBAASD;IAATE,kBAAA,AAAAD;AAAA,AAAA,QAAA,JAAcE;UAAd,NAAgBC;;AAAhB,AAAA,GAAA,KAAAF,JAAcC;AAAd,eAAA,KAAA,JAAcA;eACZ,AAAC3O,6CAAK4O,IAAI,SAAA,RAAMJ,KAAKG;;;;;AADPC;;;;;AAIpB,uBAAA,vBAAMC,sDAAWC,KAAKC;AAAtB,AACE,GAAI,AAACC,uBAAOD;AACVD;;AACA,0DAAA,NAAKA,sDAAS,kDAAA,lDAACG,sDAAa,AAAC5N,4CAAI,WAAA6N;AAAA,AAAA,IAAAC,aAAAD;QAAA,AAAAjU,4CAAAkU,WAAA,IAAA,/DAAMhU;QAAN,AAAAF,4CAAAkU,WAAA,IAAA,/DAAQtX;AAAR,AACE,uEAAA,nBAAK,AAAC+B,eAAKuB,oDAAO,AAACiU,mBAAsB,6CAAKvX;GACnDkX;;;AAGlC,AAAA,sBAAA,8BAAA1Z,pDAAMia;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,kDAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,kDAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAA9Z,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,oDAAA,pDAAM8Z,+DACFR;AADJ,AAEG,8DAAA,vDAACS,kDAAST;;;AAFb,AAAA,oDAAA,pDAAMQ,+DAGFR,KAAKC;AAHT,AAIG,iBAAA,YAAA,rBAAM3Z,+BAA8B,AAACyZ,qBAAUC,KAAKC;;;AAJvD,AAAA,8CAAA,9CAAMO;;AAAN,AAOA,0BAAA,1BAAME;AAAN,AACE,OAAM,AAAA,AAAIpa,yBACR,AAAA,AAAIA;;AAER,sBAAA,tBAAMqa,oDAAUta;AAAhB,AACE,IAAMoG,MAAI,AAACrG,oBAASC;AAApB,AACE,OAAWoG;;AAEf,0BAAA,1BAAMmU,4DAAcC,IAAItN;AAAxB,AACE,IAAMuN,WAAS,AAAC1a,oBAASmN;AAAzB,AACE,IAAAwN,iBAAwBD;IAAxBE,iBAAiC,AAAC5a,oBAASya;AAA3C,AAAA,4BAAAE,eAAAC,3CAACC;;AACDH;;AAEJ,2BAAA,3BAAMI,8DAAeL,IAAItN;AAAzB,AACE,IAAMuN,WAAS,AAAC1a,oBAASmN;AAAzB,AACE,IAAA4N,iBAAyBL;IAAzBM,iBAAkC,AAAChb,oBAASya;AAA5C,AAAA,6BAAAM,eAAAC,5CAACC;;AACDP;;AAEJ,0BAAA,1BAAMQ,4DAAcT,IAAItN;AAAxB,AACE,IAAAgO,qBAAe,AAAc,AAACnb,oBAASya;AAAvC,AAAA,oBAAAU;AAAA,YAAAA,RAASjP;AAAT,AACE,OAAC4O,yBAAc5O,MAAMiB;;AACrB,OAACf,gDAAOqO,IAAItN;;;AAEhB,sBAAA,tBAAMiO,oDAAUnb;AAAhB,AACE,IAAOA,SAAG,AAACD,oBAASC;QAApB,JACOwZ;;AADP,AAEE,IAAM4B,KAAG,AAAmBpb;AAA5B,AACE,GAAI,OAAA,NAAMob;AACR5B;;AACA,eAAO4B;eAAG,KAAA,JAAK5B;;;;;;;;AAGvB,wBAAA,xBAAM6B,wDAAYrb;AAAlB,AACE,IAAAsb,WAAsB,AAACvb,oBAASC;AAAhC,AAAA,iCAAAsb,1BAACC;;AAEH,qBAAA,rBAAMC,kDAASxb;AAAf,AACE,IAAMyB,SAAO,AAAC4Z,sBAAWrb;AAAzB,AACE,oBAAMyB;AAAN,AACE,OAACxC,eAAKwC,OAAO,KAAAzC,kBAAA,KAAA;;AAAA,AAAU,QAACwc,mDAAAA,2DAAAA,VAAQ/Z,uCAAAA;;CAAnB,KAAA;;AADf;;;AAGJ,qBAAA,rBAAMga,kDAASzb,GAAGM;AAAlB,AACE,OAAU,AAACP,oBAASC,YAAIM;;AAE1B,8BAAA,9BAAMob,oEAAkB1b;AAAxB,AACE,IAAA2b,WAA2B,AAAC5b,oBAASC;AAArC,AAAA,sCAAA2b,/BAACC;;AAEH,kCAAA,lCAAMC,4EAAsB7b;AAA5B,AACE,IAAA8b,WAA+B,AAAC/b,oBAASC;AAAzC,AAAA,0CAAA8b,nCAACC;;AAGH,AAAKC,mBAAM,6CAAA,2CAAA,MAAA,6BAAA,QAAA,nIAACC;AAGZ,6BAAA,7BAAMC,kEAAiBjT,QAAQE;AAA/B,AACE,IAAAgT,aAAoC,AAAC9T,qBAAUY;eAA/C,AAAAnD,4CAAAqW,WAAA,IAAA,tEAAO7S;aAAP,AAAAxD,4CAAAqW,WAAA,IAAA,pEAAgB5S;kBAAhB,AAAAzD,4CAAAqW,WAAA,IAAA,zEAAuB3S;AAAvB,AACE,IAAMxJ,KAAG,yBAAA,zBAAkBC,sDAAyCqJ;AAApE,AACE,oBAAMC;AAAN,AACE,gBAAA,hBAAevJ,qBAAQuJ;;AADzB;;AAGA,oBAAMC;AAAN,AACE,gBAAA,hBAAexJ,wBAAW,AAACkI,8BAAmB,AAAA,sFAAQiB,OAAOK;;AAD/D;;AAGA,IAAA4S,mBAAA,AAAA9Y,cAAc6F;IAAdkT,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,IAAAE,mBAAA,AAAAH,wDAAAE;cAAA,AAAAzW,4CAAA0W,iBAAA,IAAA,3EAASxW;cAAT,AAAAF,4CAAA0W,iBAAA,IAAA,3EAAW9Z;AAAX,AAAA,AACE,AAAiB1C,kBACf,iBAAA0D,qBAAc,AAACiZ,oBAAU3W;AAAzB,AAAA,oBAAAtC;AAAA,AAAA,SAAAA,LAAWgZ;AAAX,AACE,mDAAA,AAAAE,5CAAC7T,4DAAKiT,kBAAMU;;AADd;;KAEA,AAACjY,eAAKuB,SAAGtD;;AAJb;AAAA,eAAA0Z;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,IAAA7Y,2BAAA,AAAAJ,cAAA8Y;AAAA,AAAA,GAAA1Y;AAAA,AAAA,IAAA0Y,uBAAA1Y;AAAA,AAAA,GAAA,AAAAC,6BAAAyY;AAAA,IAAAxY,wBAAA,AAAAC,sBAAAuY;AAAA,AAAA,eAAA,AAAAtY,qBAAAsY;eAAAxY;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,IAAA6Y,mBAAA,AAAAzY,gBAAAoY;cAAA,AAAAtW,4CAAA2W,iBAAA,IAAA,3EAASzW;cAAT,AAAAF,4CAAA2W,iBAAA,IAAA,3EAAW/Z;AAAX,AAAA,AACE,AAAiB1C,kBACf,iBAAA0D,yBAAc,AAACiZ,oBAAU3W;AAAzB,AAAA,oBAAAtC;AAAA,AAAA,SAAAA,LAAWgZ;AAAX,AACE,mDAAA,AAAAE,5CAAC7T,4DAAKiT,kBAAMU;;AADd;;KAEA,AAACjY,eAAKuB,SAAGtD;;AAJb;AAAA,eAAA,AAAAuB,eAAAmY;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;AAMApc;;AAGN,sBAAA,tBAAM6c,oDAAU7c;AAAhB,AACE,GACE,OAAA,NAAMA;AADR;;AAAA,GAEE,EAAA,EAAA,OAAA,QAAA,EAAA,EAAA,WAAA,CAAAZ,gCAAA,8BAAA,KAAA,OAAA,xGAAwBY,8DAAAA;AAAI,OAAqBA;;AAFnD,AAGQA;;;;;AAEV,2BAAA,3BAAM8c,8DAAe/R;AAArB,AACE,IAAAgS,aAA2B,AAAC5S,4BAAiB+R,2BAAgBnR;WAA7D,AAAAjF,4CAAAiX,WAAA,IAAA,lEAAOjT;oBAAP,AAAAhE,4CAAAiX,WAAA,IAAA,3EAAY9R;AAAZ,AAEE,IAAA+R,mBAAA,AAAA1Z,cAAqB2H;IAArBgS,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,yBAAA,AAAAD,wDAAAE,7EAAQ7R;AAAR,AAAA,GACc,EAAK,uBAAA,tBAAMA;AADzB,AAAA,AAEE,GAAI,OAASA;AACX,IAAMkD,aAAK,MAAA,LAAM1E;AAAjB,AACE,MAAA,LAAMA,sBAAmB,6CAAK0E,wDAAKlD;;AACrC,IAAMC,iBAAS,AAACsR,oBAASvR;AAAzB,AACE,GAAI,AAACE,qBAAKD;AACR,IAAA6R,mBAAA,AAAA9Z,cAAciI;IAAd8R,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,kBAAA,AAAAD,wDAAAE,tEAAQtR;AAAR,AAAA,oBACcA;AADd,AAAA,AAEE,AAAcnC,iBAAKmC;;AAFrB;AAAA,eAAAmR;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,eAAAH;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;;AAAA,IAAA7Z,2BAAA,AAAAJ,cAAA8Z;AAAA,AAAA,GAAA1Z;AAAA,AAAA,IAAA0Z,uBAAA1Z;AAAA,AAAA,GAAA,AAAAC,6BAAAyZ;AAAA,IAAAxZ,wBAAA,AAAAC,sBAAAuZ;AAAA,AAAA,eAAA,AAAAtZ,qBAAAsZ;eAAAxZ;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,kBAAA,AAAAI,gBAAAoZ,9BAAQnR;AAAR,AAAA,oBACcA;AADd,AAAA,AAEE,AAAcnC,iBAAKmC;;AAFrB;AAAA,eAAA,AAAAhI,eAAAmZ;eAAA;eAAA;eAAA;;;;;;;AAAA,eAAA,AAAAnZ,eAAAmZ;eAAA;eAAA;eAAA;;;;;;;;;AAAA;;;;;AAGA,AAActT,iBAAKyB;;;;AAV3B;AAAA,eAAAyR;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,eAAAH;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;;AAAA,IAAAzZ,2BAAA,AAAAJ,cAAA0Z;AAAA,AAAA,GAAAtZ;AAAA,AAAA,IAAAsZ,uBAAAtZ;AAAA,AAAA,GAAA,AAAAC,6BAAAqZ;AAAA,IAAApZ,wBAAA,AAAAC,sBAAAmZ;AAAA,AAAA,eAAA,AAAAlZ,qBAAAkZ;eAAApZ;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,yBAAA,AAAAI,gBAAAgZ,rCAAQ1R;AAAR,AAAA,GACc,EAAK,uBAAA,tBAAMA;AADzB,AAAA,AAEE,GAAI,OAASA;AACX,IAAMkD,aAAK,MAAA,LAAM1E;AAAjB,AACE,MAAA,LAAMA,sBAAmB,6CAAK0E,wDAAKlD;;AACrC,IAAMC,iBAAS,AAACsR,oBAASvR;AAAzB,AACE,GAAI,AAACE,qBAAKD;AACR,IAAAiS,mBAAA,AAAAla,cAAciI;IAAdkS,qBAAA;IAAAC,qBAAA;IAAAC,iBAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,iBAAAD;AAAA,kBAAA,AAAAD,wDAAAE,tEAAQ1R;AAAR,AAAA,oBACcA;AADd,AAAA,AAEE,AAAcnC,iBAAKmC;;AAFrB;AAAA,eAAAuR;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;AAAA,eAAAH;eAAAC;eAAAC;eAAA,CAAAC,iBAAA;;;;;;;;AAAA,IAAAja,+BAAA,AAAAJ,cAAAka;AAAA,AAAA,GAAA9Z;AAAA,AAAA,IAAA8Z,uBAAA9Z;AAAA,AAAA,GAAA,AAAAC,6BAAA6Z;AAAA,IAAA5Z,wBAAA,AAAAC,sBAAA2Z;AAAA,AAAA,eAAA,AAAA1Z,qBAAA0Z;eAAA5Z;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,kBAAA,AAAAI,gBAAAwZ,9BAAQvR;AAAR,AAAA,oBACcA;AADd,AAAA,AAEE,AAAcnC,iBAAKmC;;AAFrB;AAAA,eAAA,AAAAhI,eAAAuZ;eAAA;eAAA;eAAA;;;;;;;AAAA,eAAA,AAAAvZ,eAAAuZ;eAAA;eAAA;eAAA;;;;;;;;;AAAA;;;;;AAGA,AAAc1T,iBAAKyB;;;;AAV3B;AAAA,eAAA,AAAAtH,eAAA+Y;eAAA;eAAA;eAAA;;;;;;;AAAA,eAAA,AAAA/Y,eAAA+Y;eAAA;eAAA;eAAA;;;;;;;;;AAAA;;;;;AAWAlT;;AAEJ,AAAA,AAAA,AAAA8T,gBAAAjf,sBAAA,SAAA;;AAAA,IAAAkf,iBAAAjf;IAAAkf,iBAAA;IAAAC,iBAEE;kBAAUtf;AAAV,AACE,GAAI,kBAAA6I,jBAAU7I;AACZ,gCAAA,zBAACqe,4GAAere;;AAChB,MAAO,gDAAA,4BAAA,2CAAA,vHAAC+L,4KAA2C/L;;;;AALzD,AAAA,AAAAmf,gBAAAC,eAAAC,eAAAC;;AAAA,AAAA,AAAA,AAAA,8DAAA3e,9DAOEgN;;AAPF,AAAA,AAAA,AAOEA,6EACA,WAAU3N;AAAV,AAAA,gBAAA,ZAAUA;AAAV,AACE,OAACqe,yBAAcre;;;AATnB,AAAA,AAAA,AAAA,qDAAAW,rDAWEJ;;AAXF,AAAA,AAAA,AAWEA,oEACA,WAAUP;AAAV,AAAA,gBAAA,ZAAUA;AAAV,AACE,OAACyN,4CAAItN,mBAAQH;;;AAbjB,AAAA,AAAAmf,gBAAAjf,sBAAA,OAAA;;AAAA,IAAAqf,iBAAApf;IAAAqf,iBAAA;IAAAC,iBAgBE;kBAAUC;AAAV,AAAA;;;AAhBF,AAAA,AAAAP,gBAAAI,eAAAC,eAAAC;AAoBA,AAAA,iBAAA,yBAAAhe,1CAAMke;AAAN,AAAA,IAAA1P,qBAAA;AAAA,AAAA,IAAAC,0BAAA,AAAA;AAAA,AAAA,IAAAC,wBAAA;;AAAA,AAAA,GAAA,CAAAA,wBAAAD;AAAA,AAAA,AAAAD,wBAAA,CAAA,UAAAE;;AAAA,eAAA,CAAAA,wBAAA;;;;AAAA;;;;AAAA,IAAAC,uBAAA,EAAA,CAAA,MAAA,AAAAH,4BAAA,AAAA,KAAAI,qBAAA,AAAAJ,yBAAA,KAAA,IAAA,OAAA;AAAA,AAAA,OAAA0P,oDAAA,CAAA,UAAA,MAAAvP;;;AAAA,AAAA,AAAA,AAAAuP,sDAAA,WAAWzW,MAAQ4D;AAAnB,AACE,OAAC3M,mBAAQ,AAAC4f,cAAI,+CAAA,mFAAA,lIAAC1K,oLAAanM,cAAO4D;;;AADrC,AAAA,AAAA6S,yCAAA;;AAAA;AAAA,AAAA,AAAAA,mCAAA,WAAAC;AAAA,AAAA,IAAAC,WAAA,AAAAta,gBAAAqa;IAAAA,eAAA,AAAApa,eAAAoa;AAAA,AAAA,IAAAE,qBAAA;AAAA,AAAA,OAAAA,wDAAAD,SAAAD;;;AAAA,AAQA,AAAA;;;;;;;;wBAAA,gCAAAne,xDAAMwe;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,oDAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,oDAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,oDAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAre,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,AAAA,sDAAA,tDAAMqe,iEAOF1e,GAAG2e;AAPP,AAQG,oEAAA,KAAA,lEAACC,oDAAW5e,GAAG2e;;;AARlB,AAAA,sDAAA,tDAAMD,iEASF1e,GAAG2e,MAAME;AATb,AAUG,uEAAA,hEAACD,oDAAW5e,GAAG2e,MAAME;;;AAVxB,AAAA,sDAAA,tDAAMH,iEAWF1e,GAAG2e,MAAME,GAAGC;AAXhB,AAYG,IAAMC,MAAI,+BAAA,/BAACC;IACLC,OAAK,AAACC,mDAAWH,IAAIF;IACrBM,WAAS;qCAAcne;AAAd,AACE,AAACoe,wDAAWH,KAAKje;;AACjB,GAAM,AAAO8d;AAAb,AACE,AAAC3Z,gCAAqBnF,GAAG2e,MAAMQ;;AAC/B,OAACE,4BAAaJ;;AAFhB;;;;AAJjB,AAQE,IAAAK,iBAAY,AAACvf,oBAASC;IAAtBuf,iBAA0B,AAAC9a,eAAKka;IAAhCa,iBAAuCL;AAAvC,AAAA,2GAAAG,eAAAC,eAAAC,kDAAAF,eAAAC,eAAAC,xNAAC7c,sDAAAA,oGAAAA;;AAGD,oBAAM,iBAAA8c,oBAAKX;AAAL,AAAA,oBAAAW;AACK,SAAK,AAAOX;;AADjBW;;;AAAN,AAEE,IAAAC,yBAAA,AAAAC,mDAAA;AAAA,AAAA,AAAAC,kCAAA;;AAAA,AAAA,IAAAC,mBAAA,iBAAAC,wBAAA;kBAAAC;AAAA,AAAA,IAAAC,kBAAA,CAAAD,YAAA;AAAA,AAAA,GAAA,CAAAC,oBAAA;AAAA,IAAAD,kBAAAA;AAAA,AAAA,OAAAE,4CAAAF,gBAAA,IAAQjB;;AAAR,GAAA,CAAAkB,oBAAA;AAAA,IAAAE,aAAA,CAAAH,YAAA;IAAAI,aAAA,AACKhb,gCAAqBnF,GAAG2e,MAAMQ;IADnCY,kBAAA,iBAAAK,iBAAAL;AAAA,AAAA,CAAAK,eAAA,OAAAF;;AAAAE;;AAAA,AAAA,OAAAC,6CAAAN,gBAAAI;;AAAA;;;;;AAAA,AAAA;;;;AAAA,AAAA,IAAAG,iBAAA,CAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA,KAAA;AAAA,AAAA,CAAAA,eAAA,OAAAC;;AAAA,CAAAD,eAAA,OAAA;;AAAAA;;4DAAAP;;AAAA,AAAA,IAAAS,2BAAA,iBAAA,AAAA;AAAA,AAAA,IAAAC,wBAAA,AAAAX,sBAAAC;AAAA,AAAA,GAAA,AAAAvK,mCAAAiL,sBAAA;AAAA;;AAAAA;;;;gBAAA,GAAA,CAAAC,kBAAA3d;AAAA,IAAA4d,oBAAAD;AAAA,AAAA,IAAAE,uBAAAb;AAAA,AAAA,CAAAa,qBAAA,OAAAD;;AAAAC;AAAA,AAAAC,mDAAAd;;AAAA;;AAAA,AAAA,MAAAW;;;;AAAA,AAAA,GAAA,AAAAlL,mCAAAgL,yBAAA;AAAA,eAAAT;;;;AAAAS;;;;;mDAAAT;;;;;4DAAAA;;;;;;;;;;IAAAe,uBAAA,iBAAAC,iBAAA,CAAAlB,iDAAAA,mDAAAA;AAAA,AAAA,CAAAkB,eAAAC,AAAA,OAAAtB;;AAAAqB;;AAAA,AAAA,OAAAE,2DAAAH;;;;AAAApB;AAFF;;AAIAT;;;AA3BL,AAAA,gDAAA,hDAAMP;;AAAN","names":["shadow.dom/transition-supported?","js/window","goog.style.transition/isSupported","x__4211__auto__","m__4212__auto__","shadow/dom.-to-dom","goog/typeOf","cljs.core/missing-protocol","shadow.dom/IElement","shadow.dom/-to-dom","this","shadow/dom.-to-svg","shadow.dom/SVGElement","shadow.dom/-to-svg","shadow.dom/lazy-native-coll-seq","coll","idx","cljs.core/LazySeq","cljs.core/cons","G__32586","G__32587","cljs.core/PROTOCOL_SENTINEL","this__4161__auto__","writer__4162__auto__","opt__4163__auto__","cljs.core/-write","shadow.dom/NativeColl","shadow.dom/->NativeColl","n","not-found","or__3922__auto__","shadow.dom/native-coll","shadow.dom/dom-node","el","js/document","var_args","G__32627","shadow.dom/query-one","js/Error","sel","root","G__32642","shadow.dom/query","G__32645","shadow.dom/by-id","id","shadow.dom/build","G__32648","shadow.dom/ev-stop","e","shadow.dom.ev_stop.cljs$core$IFn$_invoke$arity$1","scope","owner","G__32651","shadow.dom/contains?","G__32652","G__32653","goog.dom/contains","parent","G__32654","G__32655","shadow.dom/add-class","cls","G__32657","G__32658","goog.dom.classlist/add","shadow.dom/remove-class","G__32659","G__32660","goog.dom.classlist/remove","G__32662","shadow.dom/toggle-class","G__32663","G__32664","goog.dom.classlist/toggle","v","shadow.dom/dom-listen","ev","handler","e32666","js/Object","js/console","shadow.dom/dom-listen-remove","shadow.dom/on-query","root-el","selector","seq__32667","cljs.core/seq","chunk__32668","count__32669","i__32670","temp__5457__auto__","cljs.core/chunked-seq?","c__4319__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","cljs.core/first","cljs.core/next","shadow.dom.query.cljs$core$IFn$_invoke$arity$2","G__32671","G__32672","G__32673","G__32674","G__32675","G__32676","cljs.core/name","G__32698","shadow.dom/on","shadow.dom.on.cljs$core$IFn$_invoke$arity$4","capture","cljs.core/vector?","cljs.core/second","G__32699","G__32700","G__32701","shadow.dom/remove-event-handler","G__32703","G__32704","G__32705","shadow.dom/add-event-listeners","events","seq__32706","chunk__32707","count__32708","i__32709","vec__32710","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","vec__32713","k","shadow.dom.on.cljs$core$IFn$_invoke$arity$3","shadow.dom/set-style","styles","dom","seq__32728","chunk__32729","count__32730","i__32731","vec__32732","vec__32738","G__32735","G__32736","G__32737","G__32741","G__32742","G__32743","goog.style/setStyle","shadow.dom/set-attr*","key","value","G__32773","cljs.core/Keyword","cljs.core/map?","ks","goog.string/startsWith","shadow.dom/set-attrs","attrs","cljs.core/reduce-kv","shadow.dom/set-attr","shadow.dom/has-class?","G__32823","G__32824","goog.dom.classlist/contains","shadow.dom/merge-class-string","current","extra-class","shadow.dom/parse-tag","spec","fdot","fhash","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","clojure.string/replace","p__32836","map__32837","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","shadow.dom/create-dom-node","tag-def","class","props","vec__32848","tag-props","tag-name","tag-id","tag-classes","G__32851","goog.dom/createDom","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$2","G__32856","shadow.dom/append","node","p__32862","vec__32863","seq__32864","first__32865","shadow.dom/destructure-node","create-fn","nn","np","nc","cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2","G__32866","G__32867","G__32868","G__32869","cljs.core.conj.cljs$core$IFn$_invoke$arity$2","shadow.dom/make-dom-node","structure","vec__32870","node-children","seq__32873","chunk__32874","count__32875","i__32876","child-struct","children","cljs.core/seq?","seq__32877","chunk__32879","count__32880","i__32881","seq__32887","chunk__32889","count__32890","i__32891","child","cljs.core.map.cljs$core$IFn$_invoke$arity$2","shadow.dom.append.cljs$core$IFn$_invoke$arity$2","cljs.core/PersistentVector","js/HTMLElement","js/DocumentFragment","shadow.dom/reset","G__33049","goog.dom/removeChildren","shadow.dom/remove","seq__33060","chunk__33061","count__33062","i__33063","goog.dom/removeNode","shadow.dom/replace-node","old","new","G__33086","G__33087","goog.dom/replaceNode","G__33089","shadow.dom/text","new-text","G__33092","shadow.dom/check","shadow.dom.check.cljs$core$IFn$_invoke$arity$2","checked","shadow.dom/checked?","shadow.dom/form-elements","shadow.dom/children","shadow.dom/child-nodes","G__33095","shadow.dom/attr","default","shadow.dom/del-attr","shadow.dom/data","shadow.dom/set-data","shadow.dom/set-html","text","shadow.dom/get-html","args__4502__auto__","len__4499__auto__","i__4500__auto__","argseq__4503__auto__","cljs.core/IndexedSeq","shadow.dom/fragment","seq33097","self__4487__auto__","nodes","fragment","seq__33098","chunk__33099","count__33100","i__33101","shadow.dom/eval-scripts","s","scripts","cljs.core/re-seq","seq__33126","chunk__33127","count__33128","i__33129","vec__33130","vec__33133","script-tag","script-body","js/eval","cljs.core.reduce.cljs$core$IFn$_invoke$arity$3","p__33136","vec__33137","shadow.dom/str->fragment","js/document.createElement","goog.dom/childrenToNode_","shadow.dom/node-name","shadow.dom/ancestor-by-class","G__33165","G__33166","goog.dom/getAncestorByClass","G__33168","shadow.dom/ancestor-by-tag","tag","G__33169","G__33170","goog.dom/getAncestorByTagNameAndClass","G__33171","G__33172","G__33173","shadow.dom/get-value","G__33175","goog.dom.forms/getValue","shadow.dom/set-value","G__33176","G__33177","goog.dom.forms/setValue","shadow.dom/px","shadow.dom/pct","shadow.dom/remove-style*","style","shadow.dom/remove-style","shadow.dom/remove-styles","style-keys","seq__33178","chunk__33179","count__33180","i__33181","it","this__12151__auto__","k__12152__auto__","cljs.core._lookup.cljs$core$IFn$_invoke$arity$3","this__12153__auto__","k33195","else__12154__auto__","G__33199","x","y","cljs.core.get.cljs$core$IFn$_invoke$arity$3","__extmap","this__12165__auto__","writer__12166__auto__","opts__12167__auto__","pr-pair__12168__auto__","keyval__12169__auto__","cljs.core/pr-sequential-writer","cljs.core/pr-writer","cljs.core.concat.cljs$core$IFn$_invoke$arity$2","G__33194","cljs.core/RecordIter","cljs.core/-iterator","cljs.core/nil-iter","this__12149__auto__","__meta","this__12146__auto__","__hash","this__12155__auto__","this__12147__auto__","h__4030__auto__","fexpr__33200","coll__12148__auto__","cljs.core/hash-unordered-coll","this33196","other33197","this__12160__auto__","k__12161__auto__","cljs.core/contains?","cljs.core/-with-meta","cljs.core.into.cljs$core$IFn$_invoke$arity$2","cljs.core/not-empty","this__12158__auto__","k__12159__auto__","pred__33201","cljs.core/keyword-identical?","expr__33202","G__33204","G__33205","G__33206","G__33207","cljs.core.assoc.cljs$core$IFn$_invoke$arity$3","this__12163__auto__","this__12150__auto__","this__12156__auto__","entry__12157__auto__","cljs.core/-assoc","cljs.core._nth.cljs$core$IFn$_invoke$arity$2","cljs.core/-conj","shadow.dom/Coordinate","this__4208__auto__","cljs.core/List","writer__4209__auto__","G__33198","cljs.core.dissoc.cljs$core$IFn$_invoke$arity$variadic","shadow.dom/->Coordinate","shadow.dom/map->Coordinate","shadow.dom/get-position","pos","G__33209","goog.style/getPosition","shadow.dom/get-client-position","G__33210","goog.style/getClientPosition","shadow.dom/get-page-offset","G__33211","goog.style/getPageOffset","k33213","G__33217","w","h","G__33212","fexpr__33218","this33214","other33215","pred__33219","expr__33220","G__33222","G__33223","G__33224","G__33225","shadow.dom/Size","G__33216","shadow.dom/->Size","shadow.dom/map->Size","shadow.dom/size->clj","size","shadow.dom/get-size","G__33227","goog.style/getSize","shadow.dom/get-height","shadow.dom/get-viewport-size","goog.dom/getViewportSize","shadow.dom/first-child","shadow.dom/select-option-values","native","opts","a__4373__auto__","l__4374__auto__","i","ret","shadow.dom/build-url","path","query-params","cljs.core/empty?","clojure.string.join.cljs$core$IFn$_invoke$arity$2","p__33230","vec__33231","js/encodeURIComponent","G__33235","shadow.dom/redirect","shadow.dom.redirect.cljs$core$IFn$_invoke$arity$2","shadow.dom/reload!","shadow.dom/tag-name","shadow.dom/insert-after","ref","new-node","G__33237","G__33238","goog.dom/insertSiblingAfter","shadow.dom/insert-before","G__33241","G__33242","goog.dom/insertSiblingBefore","shadow.dom/insert-first","temp__5455__auto__","shadow.dom/index-of","ps","shadow.dom/get-parent","G__33247","goog.dom/getParentElement","shadow.dom/parents","shadow.dom/matches","shadow.dom/get-next-sibling","G__33248","goog.dom/getNextElementSibling","shadow.dom/get-previous-sibling","G__33249","goog.dom/getPreviousElementSibling","shadow.dom/xmlns","cljs.core.atom.cljs$core$IFn$_invoke$arity$1","shadow.dom/create-svg-node","vec__33250","seq__33253","chunk__33254","count__33255","i__33256","vec__33257","vec__33260","ns","cljs.core/namespace","cljs.core/deref","shadow.dom/svg-node","shadow.dom/make-svg-node","vec__33289","seq__33292","chunk__33294","count__33295","i__33296","seq__33298","chunk__33300","count__33301","i__33302","seq__33304","chunk__33306","count__33307","i__33308","goog.object/set","G__33401","G__33402","G__33403","G__33404","G__33405","G__33406","_","shadow.dom/svg","seq33413","G__33414","self__4486__auto__","cljs.core/vec","G__33419","shadow.dom/event-chan","event","shadow.dom.event_chan.cljs$core$IFn$_invoke$arity$4","xf","once-or-cleanup","buf","cljs.core.async/sliding-buffer","chan","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$2","event-fn","cljs.core.async.put_BANG_.cljs$core$IFn$_invoke$arity$2","cljs.core.async/close!","G__33420","G__33421","G__33422","and__3911__auto__","c__30034__auto__","cljs.core.async.chan.cljs$core$IFn$_invoke$arity$1","cljs.core.async.impl.dispatch/run","f__30035__auto__","switch__29774__auto__","state_33427","state_val_33428","cljs.core.async.impl.ioc-helpers/take!","inst_33424","inst_33425","statearr-33429","cljs.core.async.impl.ioc-helpers/return-chan","statearr-33430","state-machine__29775__auto__","ret-value__29776__auto__","result__29777__auto__","e33431","ex__29778__auto__","statearr-33432","cljs.core.async.impl.ioc-helpers/process-exception","state__30036__auto__","statearr-33433","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped"],"sourcesContent":["(ns shadow.dom\n  (:refer-clojure :exclude [remove contains? parents])\n  (:require-macros [cljs.core.async.macros :refer (go)])\n  (:require [goog.dom :as dom]\n            [goog.dom.forms :as gf]\n            [goog.dom.classlist :as gcls]\n            [goog.style :as gs]\n            [goog.style.transition :as gst]\n            [goog.string :as gstr]\n            [clojure.string :as str]\n            [cljs.core.async :as async]))\n\n(def transition-supported?\n  (when (exists? js/window)\n    (gst/isSupported)))\n\n(defprotocol IElement\n  (-to-dom [this]))\n\n(defprotocol SVGElement\n  (-to-svg [this]))\n\n(defn- lazy-native-coll-seq [coll idx]\n  (when (< idx (.-length coll))\n    (lazy-seq (cons (aget coll idx)\n                (lazy-native-coll-seq coll (inc idx))))\n    ))\n\n(deftype NativeColl [coll]\n  IDeref\n  (-deref [this] coll)\n\n  IIndexed\n  (-nth [this n] (aget coll n))\n  (-nth [this n not-found] (or (aget coll n) not-found))\n\n  ICounted\n  (-count [this] (.-length coll))\n\n  ISeqable\n  (-seq [this] (lazy-native-coll-seq coll 0))\n\n  IElement\n  (-to-dom [this] coll)\n  )\n\n(defn native-coll [coll]\n  (NativeColl. coll))\n\n(defn dom-node [el]\n  ;; FIXME: this method is called alot, how expensive is this check?\n  ;; protocols on native elements are funky\n  (cond\n    (nil? el) nil\n    (implements? IElement el) (-to-dom ^not-native el)\n    (string? el) (.createTextNode js/document el)\n    (number? el) (.createTextNode js/document (str el))\n    :else el))\n\n(defn query-one\n  ([sel] (.querySelector js/document sel))\n  ([sel root] (.querySelector (dom-node root) sel)))\n\n(defn query\n  ([sel] (NativeColl. (.querySelectorAll js/document sel)))\n  ([sel root] (NativeColl. (.querySelectorAll (dom-node root) sel))))\n\n(defn by-id\n  ([id el] (.getElementById (dom-node el) id))\n  ([id] (.getElementById js/document id)))\n\n(def build dom-node)\n\n(defn ev-stop\n  ([e]\n   (if (.-stopPropagation e)\n     (do\n       (.stopPropagation e)\n       (.preventDefault e))\n     (do\n       (set! (.-cancelBubble e) true)\n       (set! (.-returnValue e) false)))\n   e)\n  ([e el]\n   (ev-stop e)\n   el)\n  ;; new arity for sc/on\n  ([e el scope owner]\n   (ev-stop e)\n   el))\n\n(defn contains?\n  \"check wether a parent node (or the document) contains the child\"\n  ([el]\n   (dom/contains js/document (dom-node el)))\n  ([parent el]\n   (dom/contains (dom-node parent) (dom-node el))))\n\n\n(defn add-class [el cls]\n  (gcls/add (dom-node el) cls))\n\n(defn remove-class [el cls]\n  (gcls/remove (dom-node el) cls))\n\n(defn toggle-class\n  ([el cls]\n   (gcls/toggle (dom-node el) cls))\n  ([el cls v]\n   (if v\n     (add-class el cls)\n     (remove-class el cls))))\n\n;; private, use on\n(def dom-listen\n  (if (or (not (exists? js/document))\n          (.-addEventListener js/document))\n    (fn dom-listen-good [el ev handler]\n      (.addEventListener el ev handler false))\n    (fn dom-listen-ie [el ev handler]\n      (try\n        (.attachEvent el (str \"on\" ev) (fn [e] (handler e el)))\n        (catch js/Object e\n          (.log js/console \"didnt support attachEvent\" el e)))\n      )))\n\n;; private, only works if you used dom-listen since on wrap the event handler\n(def dom-listen-remove\n  (if (or (not (exists? js/document))\n          (.-removeEventListener js/document))\n    (fn dom-listen-remove-good [el ev handler]\n      (.removeEventListener el ev handler false))\n    (fn dom-listen-remove-ie [el ev handler]\n      (.detachEvent el (str \"on\" ev) handler))\n    ))\n;; // private\n\n(defn on-query [root-el ev selector handler]\n  (doseq [el (query selector root-el)]\n    (let [handler (fn [e] (handler e el))]\n      (dom-listen el (name ev) handler))))\n\n(defn on\n  ([el ev handler]\n   (on el ev handler false))\n  ([el ev handler capture]\n   (if (vector? ev)\n     (on-query el (first ev) (second ev) handler)\n     (let [handler (fn [e] (handler e el))]\n       (dom-listen (dom-node el) (name ev) handler)))))\n\n;; only work when used with dom-listen, on will wrap the handler so you can't remove it\n(defn remove-event-handler [el ev handler]\n  (dom-listen-remove (dom-node el) (name ev) handler))\n\n(defn add-event-listeners [el events]\n  (doseq [[k v] events]\n    (on el k v)))\n\n(defn set-style [el styles]\n  (let [dom (dom-node el)]\n\n    ;; apparently IE10+ allows setting properties to null which has unexpected effects\n    ;; on transition and display.\n    (doseq [[k v] styles]\n      (gs/setStyle dom (name k) (if (nil? v)\n                                  \"\"\n                                  v)))))\n\n(defn set-attr* [el key value]\n  ;; basically clone of goog.dom.setProperties, but with keywords\n  (case key\n    :id (set! (.-id el) (str value))\n    :class (set! (.-className el) (str value))\n    :for (set! (.-htmlFor el) value)\n    ;; see goog.dom.DIRECT_ATTRIBUTE_MAP_\n    :cellpadding (.setAttribute el \"cellPadding\" value)\n    :cellspacing (.setAttribute el \"cellSpacing\" value)\n    :colspan (.setAttribute el \"colSpan\" value)\n    :frameborder (.setAttribute el \"frameBorder\" value)\n    :height (.setAttribute el \"height\" value)\n    :maxlength (.setAttribute el \"maxLength\" value)\n    :role (.setAttribute el \"role\" value)\n    :rowspan (.setAttribute el \"rowSpan\" value)\n    :type (.setAttribute el \"type\" value)\n    :usemap (.setAttribute el \"useMap\" value)\n    :valign (.setAttribute el \"vAlign\" value)\n    :width (.setAttribute el \"width\" value)\n    :on (add-event-listeners el value)\n    :style (cond\n             (nil? value)\n             nil\n\n             (string? value)\n             (.setAttribute el \"style\" value)\n\n             (map? value)\n             (set-style el value)\n\n             :else\n             (gs/setStyle el value))\n    ;; FIXME: support :style maps\n    (let [ks (name key)]\n      (if (or (gstr/startsWith ks \"data-\")\n              (gstr/startsWith ks \"aria-\"))\n        (.setAttribute el ks value)\n        (aset el ks value))))\n  el)\n\n(defn set-attrs [el attrs]\n  (reduce-kv\n    (fn [el key value]\n      ;; use special version, so we don't do (dom-node el) every time\n      (set-attr* el key value)\n      el)\n    (dom-node el)\n    attrs))\n\n(defn set-attr [el key value]\n  (set-attr* (dom-node el) key value))\n\n\n(defn has-class? [el cls]\n  (gcls/contains (dom-node el) cls))\n\n(defn- merge-class-string [current extra-class]\n  (if (seq current)\n    (str current \" \" extra-class)\n    extra-class))\n\n\n;; before strange code!!!\n;; just because I can and messing with a huge regexp sucks\n;; messing with a native javascript object should also be faster\n(defn parse-tag [spec]\n  (let [spec (name spec)\n        fdot (.indexOf spec \".\")\n        fhash (.indexOf spec \"#\")]\n    (cond\n      (and (= -1 fdot) (= -1 fhash))\n      [spec nil nil]\n\n      (= -1 fhash)\n      [(.substring spec 0 fdot)\n       nil\n       (str/replace (.substring spec (inc fdot)) #\"\\.\" \" \")]\n\n      (= -1 fdot)\n      [(.substring spec 0 fhash)\n       (.substring spec (inc fhash))\n       nil]\n\n      (> fhash fdot)\n      (throw (str \"cant have id after class?\" spec))\n\n      :else\n      [(.substring spec 0 fhash)\n       (.substring spec (inc fhash) fdot)\n       (str/replace (.substring spec (inc fdot)) #\"\\.\" \" \")])))\n\n\n(defn create-dom-node [tag-def {:keys [class] :as props}]\n  (let [tag-props #js {} ;;  (clj->js props)\n        [tag-name tag-id tag-classes] (parse-tag tag-def)]\n    (when tag-id\n      (aset tag-props \"id\" tag-id))\n\n    (when tag-classes\n      (aset tag-props \"class\" (merge-class-string class tag-classes)))\n\n    (doto (dom/createDom tag-name tag-props)\n      (set-attrs (dissoc props :class)))\n    ))\n\n;; FIXME: throw on nil? trying to append nil should be an error, not ignored\n(defn append\n  ([node]\n   (when node\n     (when-let [n (dom-node node)]\n       (.appendChild (.-body js/document) n)\n       n)))\n  ([el node]\n   (when node\n     (when-let [n (dom-node node)]\n       (.appendChild (dom-node el) n)\n       n))))\n\n(defn destructure-node\n  [create-fn [nn np & nc :as node]]\n  (when-not (keyword? nn)\n    (throw (ex-info \"invalid dom node\" {:node node})))\n\n  (cond\n    (and (nil? np) (nil? nc)) ;; [:div.something]\n    [(create-fn nn {}) '()]\n    (map? np) ;; [:div.something {:some \"attr\"}]\n    [(create-fn nn np) nc]\n    :else ;; [:div.something \"content\" \"more-content\"]\n    [(create-fn nn {}) (conj nc np)]))\n\n;; restore sanity!\n\n(defn make-dom-node [structure]\n  (let [[node node-children] (destructure-node create-dom-node structure)]\n\n    (doseq [child-struct node-children]\n      (let [children (dom-node child-struct)]\n        (if (seq? children)\n          (doseq [child (map dom-node children)\n                  :when child]\n            (append node child))\n          (do\n            (append node children)))))\n    node))\n\n(extend-protocol IElement\n  Keyword\n  (-to-dom [this] (make-dom-node [this]))\n\n  PersistentVector\n  (-to-dom [this]\n    (make-dom-node this))\n\n  LazySeq\n  (-to-dom [this]\n    (map -to-dom this)))\n\n(when (js* \"((typeof HTMLElement) != 'undefined')\")\n  (extend-protocol IElement\n    js/HTMLElement\n    (-to-dom [this] this)\n    ))\n\n(when (js* \"((typeof DocumentFragment) != 'undefined')\")\n  (extend-protocol IElement\n    js/DocumentFragment\n    (-to-dom [this] this)\n    ))\n\n(defn reset\n  \"clear node children\"\n  [node]\n  (dom/removeChildren (dom-node node)))\n\n(defn remove [node]\n  (if (implements? ISeqable node)\n    (doseq [n node] (remove n))\n    (dom/removeNode node)))\n\n(defn replace-node [old new]\n  ;; wth reverse\n  (dom/replaceNode (dom-node new) (dom-node old)))\n\n(defn text\n  ([el new-text] (set! (.-innerText (dom-node el)) new-text))\n  ([el] (.-innerText (dom-node el))))\n\n(defn check\n  ([el] (check el true))\n  ([el checked]\n   (set! (.-checked (dom-node el)) checked)\n    ))\n\n(defn checked? [el] (.-checked (dom-node el)))\n\n(defn form-elements [el]\n  (NativeColl. (.-elements (dom-node el))))\n\n(defn children [el]\n  (NativeColl. (.-children (dom-node el))))\n\n(defn child-nodes [el]\n  (NativeColl. (.-childNodes (dom-node el))))\n\n(defn attr\n  ([el key] (.getAttribute (dom-node el) (name key)))\n  ([el key default] (or (.getAttribute (dom-node el) (name key)) default)))\n\n(defn del-attr [el key]\n  (.removeAttribute (dom-node el) (name key)))\n\n(defn data [el key]\n  (.getAttribute (dom-node el) (str \"data-\" (name key))))\n\n(defn set-data [el key value]\n  (.setAttribute (dom-node el) (str \"data-\" (name key)) (str value)))\n\n(defn set-html [node text]\n  (set! (.-innerHTML (dom-node node)) text))\n\n(defn get-html [node]\n  (.-innerHTML (dom-node node)))\n\n(defn fragment [& nodes]\n  (let [fragment (.createDocumentFragment js/document)]\n    (doseq [node nodes]\n      (.appendChild fragment (-to-dom node)))\n    (NativeColl. fragment)\n    ))\n\n\n(defn eval-scripts\n  \"given a html string, eval all <script> tags and return the html without the scripts\n   don't do this for everything, only content you trust.\"\n  [s]\n  (let [scripts (re-seq #\"<script[^>]*?>(.+?)</script>\" s)]\n\n    (doseq [[script-tag script-body] scripts]\n      (js/eval script-body))\n\n    (reduce (fn [s [script-tag script-body]]\n              (str/replace s script-tag \"\"))\n      s\n      scripts)\n    ))\n\n(defn str->fragment [s]\n  (let [el (js/document.createElement \"div\")]\n    (set! (.-innerHTML el) s)\n    (NativeColl. (dom/childrenToNode_ js/document el))))\n\n(defn node-name [el]\n  (.-nodeName (dom-node el)))\n\n(defn ancestor-by-class [el cls]\n  (dom/getAncestorByClass (dom-node el) cls))\n\n(defn ancestor-by-tag\n  ([el tag] (dom/getAncestorByTagNameAndClass (dom-node el) (name tag)))\n  ([el tag cls] (dom/getAncestorByTagNameAndClass (dom-node el) (name tag) (name cls))))\n\n(defn get-value [dom]\n  (gf/getValue (dom-node dom)))\n\n(defn set-value [dom value]\n  (gf/setValue (dom-node dom) value))\n\n(defn px [value]\n  (str (int value) \"px\"))\n\n(defn pct [value]\n  (str value \"%\"))\n\n(defn remove-style* [el style]\n  (.removeProperty (.-style el) (name style)))\n\n(defn remove-style [el style]\n  (let [el (dom-node el)]\n    (remove-style* el style)))\n\n(defn remove-styles [el style-keys]\n  (let [el (dom-node el)]\n    (doseq [it style-keys]\n      (remove-style* el it))))\n\n\n(defrecord Coordinate [x y])\n\n(defn get-position [el]\n  (let [pos (gs/getPosition (dom-node el))]\n    (->Coordinate (.-x pos) (.-y pos))))\n\n(defn get-client-position [el]\n  (let [pos (gs/getClientPosition (dom-node el))]\n    (->Coordinate (.-x pos) (.-y pos))))\n\n(defn get-page-offset [el]\n  (let [pos (gs/getPageOffset (dom-node el))]\n    (->Coordinate (.-x pos) (.-y pos))))\n\n(defrecord Size [w h])\n\n(defn size->clj [size]\n  (Size. (.-width size) (.-height size)))\n\n(defn get-size [el]\n  (size->clj (gs/getSize (dom-node el))))\n\n(defn get-height [el]\n  (-> el get-size :h))\n\n(defn get-viewport-size []\n  (size->clj (dom/getViewportSize)))\n\n(defn first-child [el]\n  (aget (.-children (dom-node el)) 0))\n\n(defn select-option-values [el]\n  (let [native (dom-node el)\n        opts (aget native \"options\")]\n    (areduce opts i ret []\n      (conj ret (aget opts i \"value\")))\n    ))\n\n(defn build-url [path query-params]\n  (if (empty? query-params)\n    path\n    (str path \"?\" (str/join \"&\" (map (fn [[k v]]\n                                       (str (name k) \"=\" (js/encodeURIComponent (str v))))\n                                  query-params)))\n    ))\n\n(defn redirect\n  ([path]\n   (redirect path {}))\n  ([path query-params]\n   (aset js/document \"location\" \"href\" (build-url path query-params))\n    ))\n\n(defn reload! []\n  (set! (.. js/document -location -href)\n    (.. js/document -location -href)))\n\n(defn tag-name [el]\n  (let [dom (dom-node el)]\n    (.-tagName dom)))\n\n(defn insert-after [ref new]\n  (let [new-node (dom-node new)]\n    (dom/insertSiblingAfter new-node (dom-node ref))\n    new-node))\n\n(defn insert-before [ref new]\n  (let [new-node (dom-node new)]\n    (dom/insertSiblingBefore new-node (dom-node ref))\n    new-node))\n\n(defn insert-first [ref new]\n  (if-let [child (.-firstChild (dom-node ref))]\n    (insert-before child new)\n    (append ref new)))\n\n(defn index-of [el]\n  (loop [el (dom-node el)\n         i 0]\n    (let [ps (.-previousSibling el)]\n      (if (nil? ps)\n        i\n        (recur ps (inc i))\n        ))))\n\n(defn get-parent [el]\n  (dom/getParentElement (dom-node el)))\n\n(defn parents [el]\n  (let [parent (get-parent el)]\n    (when parent\n      (cons parent (lazy-seq (parents parent))))))\n\n(defn matches [el sel]\n  (.matches (dom-node el) sel))\n\n(defn get-next-sibling [el]\n  (dom/getNextElementSibling (dom-node el)))\n\n(defn get-previous-sibling [el]\n  (dom/getPreviousElementSibling (dom-node el)))\n\n\n(def xmlns (atom {\"svg\" \"http://www.w3.org/2000/svg\"\n                  \"xlink\" \"http://www.w3.org/1999/xlink\"}))\n\n(defn create-svg-node [tag-def props]\n  (let [[tag-name tag-id tag-classes] (parse-tag tag-def)]\n    (let [el (.createElementNS js/document \"http://www.w3.org/2000/svg\" tag-name)]\n      (when tag-id\n        (.setAttribute el \"id\" tag-id))\n\n      (when tag-classes\n        (.setAttribute el \"class\" (merge-class-string (:class props) tag-classes)))\n\n      (doseq [[k v] props]\n        (.setAttributeNS el\n          (when-let [ns (namespace k)]\n            (get @xmlns ns))\n          (name k) v))\n\n      el\n      )))\n\n(defn svg-node [el]\n  (cond\n    (nil? el) nil\n    (implements? SVGElement el) (-to-svg ^not-native el)\n    :else el))\n\n(defn make-svg-node [structure]\n  (let [[node node-children] (destructure-node create-svg-node structure)]\n\n    (doseq [child-struct node-children\n            :when (not (nil? child-struct))]\n      (if (string? child-struct)\n        (let [text (aget node \"textContent\")]\n          (aset node \"textContent\" (str text child-struct)))\n        (let [children (svg-node child-struct)]\n          (if (seq? children)\n            (doseq [child children\n                    :when child]\n              (.appendChild node child))\n            (.appendChild node children)))))\n    node))\n\n(extend-protocol SVGElement\n  string\n  (-to-svg [this]\n    (if (keyword? this)\n      (make-svg-node [this])\n      (throw (ex-info \"strings cannot be in svgs\" {:this this}))))\n\n  PersistentVector\n  (-to-svg [this]\n    (make-svg-node this))\n\n  LazySeq\n  (-to-svg [this]\n    (map -to-svg this))\n\n  nil\n  (-to-svg [_] nil))\n\n;; FIXME: could autodetect svg elements but that would mean checking\n;; if tag == :svg for every node created in dom-node, that kinda sucks\n(defn svg [attrs & children]\n  (-to-svg (vec (concat [:svg attrs] children))))\n\n\n\n\n;; core.async stuff\n\n(defn event-chan\n  \"returns a channel for events on el\n   transform-fn should be a (fn [e el] some-val) where some-val will be put on the chan\n   once-or-cleanup handles the removal of the event handler\n   - true: remove after one event\n   - false: never removed\n   - chan: remove on msg/close\"\n  ([el event]\n   (event-chan el event nil false))\n  ([el event xf]\n   (event-chan el event xf false))\n  ([el event xf once-or-cleanup]\n   (let [buf (async/sliding-buffer 1)\n         chan (async/chan buf xf)\n         event-fn (fn event-fn [e]\n                    (async/put! chan e)\n                    (when (true? once-or-cleanup)\n                      (remove-event-handler el event event-fn)\n                      (async/close! chan)\n                      ))]\n     (dom-listen (dom-node el) (name event) event-fn)\n\n     ;; when given a channel fire up a go that removes event handler when closed/msg\n     (when (and once-or-cleanup\n                (not (true? once-or-cleanup)))\n       (go (<! once-or-cleanup)\n           (remove-event-handler el event event-fn)))\n     chan\n     )))\n\n\n"]}